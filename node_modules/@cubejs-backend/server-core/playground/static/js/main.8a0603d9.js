!function(e){function t(t){for(var a,s,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)s=o[p],r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(t);d.length;)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={1:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="./";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([739,0,2]),n()}({1011:function(e,t){},1183:function(e,t,n){var a={"./Binary_Property/ASCII.js":1184,"./Binary_Property/ASCII_Hex_Digit.js":1185,"./Binary_Property/Alphabetic.js":1186,"./Binary_Property/Any.js":1187,"./Binary_Property/Assigned.js":1188,"./Binary_Property/Bidi_Control.js":1189,"./Binary_Property/Bidi_Mirrored.js":1190,"./Binary_Property/Case_Ignorable.js":1191,"./Binary_Property/Cased.js":1192,"./Binary_Property/Changes_When_Casefolded.js":1193,"./Binary_Property/Changes_When_Casemapped.js":1194,"./Binary_Property/Changes_When_Lowercased.js":1195,"./Binary_Property/Changes_When_NFKC_Casefolded.js":1196,"./Binary_Property/Changes_When_Titlecased.js":1197,"./Binary_Property/Changes_When_Uppercased.js":1198,"./Binary_Property/Dash.js":1199,"./Binary_Property/Default_Ignorable_Code_Point.js":1200,"./Binary_Property/Deprecated.js":1201,"./Binary_Property/Diacritic.js":1202,"./Binary_Property/Emoji.js":1203,"./Binary_Property/Emoji_Component.js":1204,"./Binary_Property/Emoji_Modifier.js":1205,"./Binary_Property/Emoji_Modifier_Base.js":1206,"./Binary_Property/Emoji_Presentation.js":1207,"./Binary_Property/Extended_Pictographic.js":1208,"./Binary_Property/Extender.js":1209,"./Binary_Property/Grapheme_Base.js":1210,"./Binary_Property/Grapheme_Extend.js":1211,"./Binary_Property/Hex_Digit.js":1212,"./Binary_Property/IDS_Binary_Operator.js":1213,"./Binary_Property/IDS_Trinary_Operator.js":1214,"./Binary_Property/ID_Continue.js":1215,"./Binary_Property/ID_Start.js":1216,"./Binary_Property/Ideographic.js":1217,"./Binary_Property/Join_Control.js":1218,"./Binary_Property/Logical_Order_Exception.js":1219,"./Binary_Property/Lowercase.js":1220,"./Binary_Property/Math.js":1221,"./Binary_Property/Noncharacter_Code_Point.js":1222,"./Binary_Property/Pattern_Syntax.js":1223,"./Binary_Property/Pattern_White_Space.js":1224,"./Binary_Property/Quotation_Mark.js":1225,"./Binary_Property/Radical.js":1226,"./Binary_Property/Regional_Indicator.js":1227,"./Binary_Property/Sentence_Terminal.js":1228,"./Binary_Property/Soft_Dotted.js":1229,"./Binary_Property/Terminal_Punctuation.js":1230,"./Binary_Property/Unified_Ideograph.js":1231,"./Binary_Property/Uppercase.js":1232,"./Binary_Property/Variation_Selector.js":1233,"./Binary_Property/White_Space.js":1234,"./Binary_Property/XID_Continue.js":1235,"./Binary_Property/XID_Start.js":1236,"./General_Category/Cased_Letter.js":1237,"./General_Category/Close_Punctuation.js":1238,"./General_Category/Connector_Punctuation.js":1239,"./General_Category/Control.js":1240,"./General_Category/Currency_Symbol.js":1241,"./General_Category/Dash_Punctuation.js":1242,"./General_Category/Decimal_Number.js":1243,"./General_Category/Enclosing_Mark.js":1244,"./General_Category/Final_Punctuation.js":1245,"./General_Category/Format.js":1246,"./General_Category/Initial_Punctuation.js":1247,"./General_Category/Letter.js":1248,"./General_Category/Letter_Number.js":1249,"./General_Category/Line_Separator.js":1250,"./General_Category/Lowercase_Letter.js":1251,"./General_Category/Mark.js":1252,"./General_Category/Math_Symbol.js":1253,"./General_Category/Modifier_Letter.js":1254,"./General_Category/Modifier_Symbol.js":1255,"./General_Category/Nonspacing_Mark.js":1256,"./General_Category/Number.js":1257,"./General_Category/Open_Punctuation.js":1258,"./General_Category/Other.js":1259,"./General_Category/Other_Letter.js":1260,"./General_Category/Other_Number.js":1261,"./General_Category/Other_Punctuation.js":1262,"./General_Category/Other_Symbol.js":1263,"./General_Category/Paragraph_Separator.js":1264,"./General_Category/Private_Use.js":1265,"./General_Category/Punctuation.js":1266,"./General_Category/Separator.js":1267,"./General_Category/Space_Separator.js":1268,"./General_Category/Spacing_Mark.js":1269,"./General_Category/Surrogate.js":1270,"./General_Category/Symbol.js":1271,"./General_Category/Titlecase_Letter.js":1272,"./General_Category/Unassigned.js":1273,"./General_Category/Uppercase_Letter.js":1274,"./Script/Adlam.js":1275,"./Script/Ahom.js":1276,"./Script/Anatolian_Hieroglyphs.js":1277,"./Script/Arabic.js":1278,"./Script/Armenian.js":1279,"./Script/Avestan.js":1280,"./Script/Balinese.js":1281,"./Script/Bamum.js":1282,"./Script/Bassa_Vah.js":1283,"./Script/Batak.js":1284,"./Script/Bengali.js":1285,"./Script/Bhaiksuki.js":1286,"./Script/Bopomofo.js":1287,"./Script/Brahmi.js":1288,"./Script/Braille.js":1289,"./Script/Buginese.js":1290,"./Script/Buhid.js":1291,"./Script/Canadian_Aboriginal.js":1292,"./Script/Carian.js":1293,"./Script/Caucasian_Albanian.js":1294,"./Script/Chakma.js":1295,"./Script/Cham.js":1296,"./Script/Cherokee.js":1297,"./Script/Common.js":1298,"./Script/Coptic.js":1299,"./Script/Cuneiform.js":1300,"./Script/Cypriot.js":1301,"./Script/Cyrillic.js":1302,"./Script/Deseret.js":1303,"./Script/Devanagari.js":1304,"./Script/Dogra.js":1305,"./Script/Duployan.js":1306,"./Script/Egyptian_Hieroglyphs.js":1307,"./Script/Elbasan.js":1308,"./Script/Elymaic.js":1309,"./Script/Ethiopic.js":1310,"./Script/Georgian.js":1311,"./Script/Glagolitic.js":1312,"./Script/Gothic.js":1313,"./Script/Grantha.js":1314,"./Script/Greek.js":1315,"./Script/Gujarati.js":1316,"./Script/Gunjala_Gondi.js":1317,"./Script/Gurmukhi.js":1318,"./Script/Han.js":1319,"./Script/Hangul.js":1320,"./Script/Hanifi_Rohingya.js":1321,"./Script/Hanunoo.js":1322,"./Script/Hatran.js":1323,"./Script/Hebrew.js":1324,"./Script/Hiragana.js":1325,"./Script/Imperial_Aramaic.js":1326,"./Script/Inherited.js":1327,"./Script/Inscriptional_Pahlavi.js":1328,"./Script/Inscriptional_Parthian.js":1329,"./Script/Javanese.js":1330,"./Script/Kaithi.js":1331,"./Script/Kannada.js":1332,"./Script/Katakana.js":1333,"./Script/Kayah_Li.js":1334,"./Script/Kharoshthi.js":1335,"./Script/Khmer.js":1336,"./Script/Khojki.js":1337,"./Script/Khudawadi.js":1338,"./Script/Lao.js":1339,"./Script/Latin.js":1340,"./Script/Lepcha.js":1341,"./Script/Limbu.js":1342,"./Script/Linear_A.js":1343,"./Script/Linear_B.js":1344,"./Script/Lisu.js":1345,"./Script/Lycian.js":1346,"./Script/Lydian.js":1347,"./Script/Mahajani.js":1348,"./Script/Makasar.js":1349,"./Script/Malayalam.js":1350,"./Script/Mandaic.js":1351,"./Script/Manichaean.js":1352,"./Script/Marchen.js":1353,"./Script/Masaram_Gondi.js":1354,"./Script/Medefaidrin.js":1355,"./Script/Meetei_Mayek.js":1356,"./Script/Mende_Kikakui.js":1357,"./Script/Meroitic_Cursive.js":1358,"./Script/Meroitic_Hieroglyphs.js":1359,"./Script/Miao.js":1360,"./Script/Modi.js":1361,"./Script/Mongolian.js":1362,"./Script/Mro.js":1363,"./Script/Multani.js":1364,"./Script/Myanmar.js":1365,"./Script/Nabataean.js":1366,"./Script/Nandinagari.js":1367,"./Script/New_Tai_Lue.js":1368,"./Script/Newa.js":1369,"./Script/Nko.js":1370,"./Script/Nushu.js":1371,"./Script/Nyiakeng_Puachue_Hmong.js":1372,"./Script/Ogham.js":1373,"./Script/Ol_Chiki.js":1374,"./Script/Old_Hungarian.js":1375,"./Script/Old_Italic.js":1376,"./Script/Old_North_Arabian.js":1377,"./Script/Old_Permic.js":1378,"./Script/Old_Persian.js":1379,"./Script/Old_Sogdian.js":1380,"./Script/Old_South_Arabian.js":1381,"./Script/Old_Turkic.js":1382,"./Script/Oriya.js":1383,"./Script/Osage.js":1384,"./Script/Osmanya.js":1385,"./Script/Pahawh_Hmong.js":1386,"./Script/Palmyrene.js":1387,"./Script/Pau_Cin_Hau.js":1388,"./Script/Phags_Pa.js":1389,"./Script/Phoenician.js":1390,"./Script/Psalter_Pahlavi.js":1391,"./Script/Rejang.js":1392,"./Script/Runic.js":1393,"./Script/Samaritan.js":1394,"./Script/Saurashtra.js":1395,"./Script/Sharada.js":1396,"./Script/Shavian.js":1397,"./Script/Siddham.js":1398,"./Script/SignWriting.js":1399,"./Script/Sinhala.js":1400,"./Script/Sogdian.js":1401,"./Script/Sora_Sompeng.js":1402,"./Script/Soyombo.js":1403,"./Script/Sundanese.js":1404,"./Script/Syloti_Nagri.js":1405,"./Script/Syriac.js":1406,"./Script/Tagalog.js":1407,"./Script/Tagbanwa.js":1408,"./Script/Tai_Le.js":1409,"./Script/Tai_Tham.js":1410,"./Script/Tai_Viet.js":1411,"./Script/Takri.js":1412,"./Script/Tamil.js":1413,"./Script/Tangut.js":1414,"./Script/Telugu.js":1415,"./Script/Thaana.js":1416,"./Script/Thai.js":1417,"./Script/Tibetan.js":1418,"./Script/Tifinagh.js":1419,"./Script/Tirhuta.js":1420,"./Script/Ugaritic.js":1421,"./Script/Vai.js":1422,"./Script/Wancho.js":1423,"./Script/Warang_Citi.js":1424,"./Script/Yi.js":1425,"./Script/Zanabazar_Square.js":1426,"./Script_Extensions/Adlam.js":1427,"./Script_Extensions/Ahom.js":1428,"./Script_Extensions/Anatolian_Hieroglyphs.js":1429,"./Script_Extensions/Arabic.js":1430,"./Script_Extensions/Armenian.js":1431,"./Script_Extensions/Avestan.js":1432,"./Script_Extensions/Balinese.js":1433,"./Script_Extensions/Bamum.js":1434,"./Script_Extensions/Bassa_Vah.js":1435,"./Script_Extensions/Batak.js":1436,"./Script_Extensions/Bengali.js":1437,"./Script_Extensions/Bhaiksuki.js":1438,"./Script_Extensions/Bopomofo.js":1439,"./Script_Extensions/Brahmi.js":1440,"./Script_Extensions/Braille.js":1441,"./Script_Extensions/Buginese.js":1442,"./Script_Extensions/Buhid.js":1443,"./Script_Extensions/Canadian_Aboriginal.js":1444,"./Script_Extensions/Carian.js":1445,"./Script_Extensions/Caucasian_Albanian.js":1446,"./Script_Extensions/Chakma.js":1447,"./Script_Extensions/Cham.js":1448,"./Script_Extensions/Cherokee.js":1449,"./Script_Extensions/Common.js":1450,"./Script_Extensions/Coptic.js":1451,"./Script_Extensions/Cuneiform.js":1452,"./Script_Extensions/Cypriot.js":1453,"./Script_Extensions/Cyrillic.js":1454,"./Script_Extensions/Deseret.js":1455,"./Script_Extensions/Devanagari.js":1456,"./Script_Extensions/Dogra.js":1457,"./Script_Extensions/Duployan.js":1458,"./Script_Extensions/Egyptian_Hieroglyphs.js":1459,"./Script_Extensions/Elbasan.js":1460,"./Script_Extensions/Elymaic.js":1461,"./Script_Extensions/Ethiopic.js":1462,"./Script_Extensions/Georgian.js":1463,"./Script_Extensions/Glagolitic.js":1464,"./Script_Extensions/Gothic.js":1465,"./Script_Extensions/Grantha.js":1466,"./Script_Extensions/Greek.js":1467,"./Script_Extensions/Gujarati.js":1468,"./Script_Extensions/Gunjala_Gondi.js":1469,"./Script_Extensions/Gurmukhi.js":1470,"./Script_Extensions/Han.js":1471,"./Script_Extensions/Hangul.js":1472,"./Script_Extensions/Hanifi_Rohingya.js":1473,"./Script_Extensions/Hanunoo.js":1474,"./Script_Extensions/Hatran.js":1475,"./Script_Extensions/Hebrew.js":1476,"./Script_Extensions/Hiragana.js":1477,"./Script_Extensions/Imperial_Aramaic.js":1478,"./Script_Extensions/Inherited.js":1479,"./Script_Extensions/Inscriptional_Pahlavi.js":1480,"./Script_Extensions/Inscriptional_Parthian.js":1481,"./Script_Extensions/Javanese.js":1482,"./Script_Extensions/Kaithi.js":1483,"./Script_Extensions/Kannada.js":1484,"./Script_Extensions/Katakana.js":1485,"./Script_Extensions/Kayah_Li.js":1486,"./Script_Extensions/Kharoshthi.js":1487,"./Script_Extensions/Khmer.js":1488,"./Script_Extensions/Khojki.js":1489,"./Script_Extensions/Khudawadi.js":1490,"./Script_Extensions/Lao.js":1491,"./Script_Extensions/Latin.js":1492,"./Script_Extensions/Lepcha.js":1493,"./Script_Extensions/Limbu.js":1494,"./Script_Extensions/Linear_A.js":1495,"./Script_Extensions/Linear_B.js":1496,"./Script_Extensions/Lisu.js":1497,"./Script_Extensions/Lycian.js":1498,"./Script_Extensions/Lydian.js":1499,"./Script_Extensions/Mahajani.js":1500,"./Script_Extensions/Makasar.js":1501,"./Script_Extensions/Malayalam.js":1502,"./Script_Extensions/Mandaic.js":1503,"./Script_Extensions/Manichaean.js":1504,"./Script_Extensions/Marchen.js":1505,"./Script_Extensions/Masaram_Gondi.js":1506,"./Script_Extensions/Medefaidrin.js":1507,"./Script_Extensions/Meetei_Mayek.js":1508,"./Script_Extensions/Mende_Kikakui.js":1509,"./Script_Extensions/Meroitic_Cursive.js":1510,"./Script_Extensions/Meroitic_Hieroglyphs.js":1511,"./Script_Extensions/Miao.js":1512,"./Script_Extensions/Modi.js":1513,"./Script_Extensions/Mongolian.js":1514,"./Script_Extensions/Mro.js":1515,"./Script_Extensions/Multani.js":1516,"./Script_Extensions/Myanmar.js":1517,"./Script_Extensions/Nabataean.js":1518,"./Script_Extensions/Nandinagari.js":1519,"./Script_Extensions/New_Tai_Lue.js":1520,"./Script_Extensions/Newa.js":1521,"./Script_Extensions/Nko.js":1522,"./Script_Extensions/Nushu.js":1523,"./Script_Extensions/Nyiakeng_Puachue_Hmong.js":1524,"./Script_Extensions/Ogham.js":1525,"./Script_Extensions/Ol_Chiki.js":1526,"./Script_Extensions/Old_Hungarian.js":1527,"./Script_Extensions/Old_Italic.js":1528,"./Script_Extensions/Old_North_Arabian.js":1529,"./Script_Extensions/Old_Permic.js":1530,"./Script_Extensions/Old_Persian.js":1531,"./Script_Extensions/Old_Sogdian.js":1532,"./Script_Extensions/Old_South_Arabian.js":1533,"./Script_Extensions/Old_Turkic.js":1534,"./Script_Extensions/Oriya.js":1535,"./Script_Extensions/Osage.js":1536,"./Script_Extensions/Osmanya.js":1537,"./Script_Extensions/Pahawh_Hmong.js":1538,"./Script_Extensions/Palmyrene.js":1539,"./Script_Extensions/Pau_Cin_Hau.js":1540,"./Script_Extensions/Phags_Pa.js":1541,"./Script_Extensions/Phoenician.js":1542,"./Script_Extensions/Psalter_Pahlavi.js":1543,"./Script_Extensions/Rejang.js":1544,"./Script_Extensions/Runic.js":1545,"./Script_Extensions/Samaritan.js":1546,"./Script_Extensions/Saurashtra.js":1547,"./Script_Extensions/Sharada.js":1548,"./Script_Extensions/Shavian.js":1549,"./Script_Extensions/Siddham.js":1550,"./Script_Extensions/SignWriting.js":1551,"./Script_Extensions/Sinhala.js":1552,"./Script_Extensions/Sogdian.js":1553,"./Script_Extensions/Sora_Sompeng.js":1554,"./Script_Extensions/Soyombo.js":1555,"./Script_Extensions/Sundanese.js":1556,"./Script_Extensions/Syloti_Nagri.js":1557,"./Script_Extensions/Syriac.js":1558,"./Script_Extensions/Tagalog.js":1559,"./Script_Extensions/Tagbanwa.js":1560,"./Script_Extensions/Tai_Le.js":1561,"./Script_Extensions/Tai_Tham.js":1562,"./Script_Extensions/Tai_Viet.js":1563,"./Script_Extensions/Takri.js":1564,"./Script_Extensions/Tamil.js":1565,"./Script_Extensions/Tangut.js":1566,"./Script_Extensions/Telugu.js":1567,"./Script_Extensions/Thaana.js":1568,"./Script_Extensions/Thai.js":1569,"./Script_Extensions/Tibetan.js":1570,"./Script_Extensions/Tifinagh.js":1571,"./Script_Extensions/Tirhuta.js":1572,"./Script_Extensions/Ugaritic.js":1573,"./Script_Extensions/Vai.js":1574,"./Script_Extensions/Wancho.js":1575,"./Script_Extensions/Warang_Citi.js":1576,"./Script_Extensions/Yi.js":1577,"./Script_Extensions/Zanabazar_Square.js":1578,"./index.js":1579,"./unicode-version.js":1580};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1183},1646:function(e,t,n){},1926:function(e,t,n){},1927:function(e,t,n){},1930:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"sourceCodeTemplate",(function(){return Ee})),n.d(a,"imports",(function(){return _e}));var r={};n.r(r),n.d(r,"sourceCodeTemplate",(function(){return Oe})),n.d(r,"imports",(function(){return Pe}));var i={};n.r(i),n.d(i,"sourceCodeTemplate",(function(){return Ae})),n.d(i,"imports",(function(){return De}));var s={};n.r(s),n.d(s,"sourceCodeTemplate",(function(){return Ne})),n.d(s,"imports",(function(){return Fe}));var o={};n.r(o),n.d(o,"sourceCodeTemplate",(function(){return Ue})),n.d(o,"imports",(function(){return Ke}));var c=n(1),u=n.n(c),l=n(11),p=n.n(l),d=n(125),m=n(87),h=n(20),y=n.n(h),f=n(31),b=n(66),g=n(67),j=n(78),S=n(77),v=n(79),x=n(106),k=n(158),E=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(j.a)(this,Object(S.a)(t).call(this,e))).state={},n}var n,a;return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:(a=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadFiles();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"loadFiles",value:(n=Object(f.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)("/playground/files");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({files:n.files});case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.state.files?u.a.createElement(d.a,{to:!this.state.files.length||1===this.state.files.length&&"Orders.js"===this.state.files[0].fileName?"/schema":"/build"}):u.a.createElement("div",{style:{textAlign:"center",padding:24}},u.a.createElement(k.a,null))}}]),t}(c.Component),_=n(226),C=n.n(_),w=n(43),O=n(164),P=function e(t,n){var a=n||{},r=a.retries,i=Object(O.a)(a,["retries"]);return r=r||0,Object(x.a)(t,i).then(function(){var e=Object(f.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(500!==t.status){e.next=6;break}return e.next=3,t.text();case 3:n=e.sent;try{a=JSON.parse(n),n=a.error}catch(e){}throw n;case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(a){if("Network request failed"===a.message&&r>0)return e(t,{options:n,retries:r-1});throw a}))},T=function(e,t,n){return P(e,Object(w.a)({},t,{retries:n}))},M=function(){function e(){Object(b.a)(this,e)}var t,n,a,r,i;return Object(g.a)(e,[{key:"load",value:(i=Object(f.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadError=null,e.next=3,T("/playground/dashboard-app-create-status".concat(t?"?instant=true":""),void 0,10);case 3:return n=e.sent,e.next=6,n.json();case 6:(a=e.sent).error?this.loadError=a.error:(this.dashboardCreated="created"===a.status,this.installedTemplates=a.installedTemplates);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"applyTemplatePackages",value:(r=Object(f.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.playgroundContext){e.next=4;break}return e.next=3,this.loadContext();case 3:this.playgroundContext=e.sent;case 4:return e.abrupt("return",T("/playground/apply-template-packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templatePackages:t,templateConfig:n||{credentials:this.playgroundContext}})}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"loadContext",value:(a=Object(f.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/playground/context");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",{cubejsToken:n.cubejsToken,apiUrl:n.apiUrl||window.location.href.split("#")[0].replace(/\/$/,"")});case 7:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"canAddChart",value:(n=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:if(!this.loadError){e.next=4;break}return e.abrupt("return",this.loadError);case 4:return e.abrupt("return",!!Object.keys(this.installedTemplates).find((function(e){return e.match(/-static$/)})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"addChart",value:(t=Object(f.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:if(!this.loadError){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.applyTemplatePackages(["create-react-app",Object.keys(this.installedTemplates).find((function(e){return e.match(/-static$/)})),"static-chart"],{"static-chart":{chartCode:t}});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"templatePackages",get:function(){return[{name:"react-antd-dynamic",description:"React Antd Dynamic"},{name:"react-antd-static",description:"React Antd Static"},{name:"react-material-static",description:"React Material UI Static"}]}}]),e}(),A=n(227),D=n(166),L=n(99),B=n(693),R=n(655),I=n(161),q=n(733),N=n(454),F=n.n(N),G=n(694),U=n.n(G),K=n(695),V=n.n(K),Y=n(58),Q=n(654),z=n(163),H=n(59),W=n(692),J=n(223),X=n(10),$=n(638),Z=n(696),ee=n(1932),te=n(272),ne=n.n(te),ae=n(455),re=n.n(ae),ie=(n(1646),function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){re.a.highlightAll()}},{key:"componentDidUpdate",value:function(){re.a.highlightAll()}},{key:"render",value:function(){return u.a.createElement("pre",{style:this.props.style},u.a.createElement("code",{className:"language-javascript"},this.props.code))}}]),t}(u.a.Component)),se=n(271),oe=n(688),ce=function(e){var t=e.query,n=e.cubejsApi;return u.a.createElement(I.QueryRenderer,{loadSql:!0,query:Object(w.a)({},t,{renewQuery:!0}),cubejsApi:n,render:function(e){var t=e.sqlQuery,n=e.resultSet;return u.a.createElement(se.a,{defaultActiveKey:"refreshKeys",tabBarExtraContent:u.a.createElement("span",null,"Last Refresh Time: ",u.a.createElement("b",null,n&&n.loadResponse.lastRefreshTime))},u.a.createElement(se.a.TabPane,{tab:"Refresh Keys",key:"refreshKeys"},u.a.createElement(oe.a,{loading:!t,pagination:!1,scroll:{x:!0},columns:[{title:"Refresh Key SQL",key:"refreshKey",render:function(e,t){return u.a.createElement(ie,{code:ne.a.format(t[0])})}},{title:"Value",key:"value",render:function(e,a){return u.a.createElement(ie,{code:n&&n.loadResponse.refreshKeyValues&&JSON.stringify(n.loadResponse.refreshKeyValues[t.sqlQuery.sql.cacheKeyQueries.queries.indexOf(a)],null,2)})}}],dataSource:t&&t.sqlQuery.sql&&t.sqlQuery.sql.cacheKeyQueries.queries})),u.a.createElement(se.a.TabPane,{tab:"Pre-aggregations",key:"preAggregations"},u.a.createElement(oe.a,{loading:!t,pagination:!1,scroll:{x:!0},columns:[{title:"Table Name",key:"tableName",dataIndex:"tableName",render:function(e){return u.a.createElement("b",null,e)}},{title:"Refresh Key SQL",key:"refreshKey",dataIndex:"invalidateKeyQueries",render:function(e){return e.map((function(e){return u.a.createElement(ie,{key:e[0],code:ne.a.format(e[0])})}))}},{title:"Refresh Key Value",key:"value",render:function(e,t){return n&&n.loadResponse.usedPreAggregations&&n.loadResponse.usedPreAggregations[t.tableName].refreshKeyValues.map((function(e){return u.a.createElement(ie,{key:JSON.stringify(e),code:JSON.stringify(e,null,2)})}))}}],dataSource:t&&t.sqlQuery.sql&&t.sqlQuery.sql.preAggregations})),u.a.createElement(se.a.TabPane,{tab:"Rollup Match Results",key:"rollupMatchResults"},u.a.createElement(oe.a,{loading:!t,pagination:!1,scroll:{x:!0},columns:[{title:"Rollup Table Name",key:"tableName",dataIndex:"tableName",render:function(e){return u.a.createElement("b",null,e)}},{title:"Rollup Definition",key:"rollup",dataIndex:"references",render:function(e){return u.a.createElement(ie,{code:JSON.stringify(e,null,2)})}},{title:"Can Be Used",key:"canUsePreAggregation",dataIndex:"canUsePreAggregation",render:function(e){return e?u.a.createElement(X.a,{type:"check",style:{color:"#52c41a",fontSize:"2em"}}):u.a.createElement(X.a,{type:"close",style:{color:"#c2371b",fontSize:"2em"}})}}],dataSource:t&&t.sqlQuery.sql&&t.sqlQuery.sql.rollupMatchResults})))}})},ue=n(334),le=n.n(ue),pe=n(457),de=n.n(pe),me=null,he=[],ye={},fe=function(){var e=Object(f.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le()("playground_anonymous")||le()("playground_anonymous",de()()),he.push(Object(w.a)({},ye,t,{id:de()(),clientAnonymousId:le()("playground_anonymous"),clientTimestamp:(new Date).toJSON()})),n=function(){var e=Object(f.a)(y.a.mark((function e(t,a){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=he,he=[]),t.length){e.next=3;break}return e.abrupt("return",null);case 3:return null==a&&(a=10),e.prev=4,r=(new Date).toJSON(),e.next=8,Object(x.a)("https://track.cube.dev/track",{method:"post",body:JSON.stringify(t.map((function(e){return Object(w.a)({},e,{sentAt:r})}))),headers:{"Content-Type":"application/json"}});case 8:if(!(200!==e.sent.status&&a>0)){e.next=11;break}return e.abrupt("return",n(t,a-1));case 11:e.next=17;break;case 13:if(e.prev=13,e.t0=e.catch(4),!(a>0)){e.next=17;break}return e.abrupt("return",n(t,a-1));case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n){return e.apply(this,arguments)}}(),a=(me||Promise.resolve()).then((function(){return n()})).then((function(){a===me&&(me=null)})),me=a,e.abrupt("return",me);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e,t){fe(Object(w.a)({event:e},t))},ge=function(e,t){be("Playground Action",Object(w.a)({name:e},t))},je=[{id:"vanilla",title:"Vanilla JavaScript",docsLink:"https://cube.dev/docs/@cubejs-client-core"},{id:"react",title:"React"},{id:"angular",title:"Angular",docsLink:"https://cube.dev/docs/@cubejs-client-ngx"},{id:"vue",title:"Vue.js",docsLink:"https://cube.dev/docs/@cubejs-client-vue"}],Se=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(j.a)(this,Object(S.a)(t).call(this,e))).state={showCode:!1,framework:"react"},n}var n;return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:(n=Object(f.a)(y.a.mark((function e(){var t,n,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.codeSandboxSource,a=t.dependencies,e.next=3,Object(x.a)("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(this.codeSandboxDefinition(n,a))});case 3:return r=e.sent,e.next=6,r.json();case 6:i=e.sent,this.setState({sandboxId:i.sandbox_id});case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"codeSandboxDefinition",value:function(e,t){return{files:Object(w.a)({},"string"==typeof e?{"index.js":{content:e}}:e,{"package.json":{content:{dependencies:Object(w.a)({"react-dom":"latest"},Object(ee.a)((function(){return"latest"}),t))}}}),template:"create-react-app"}}},{key:"render",value:function(){var e=this,t=this.state,n=t.redirectToDashboard,a=t.showCode,r=t.sandboxId,i=t.addingToDashboard,s=t.framework,o=this.props,c=o.resultSet,l=o.error,p=o.codeExample,m=o.render,h=o.codeSandboxSource,b=o.dependencies,g=o.dashboardSource,j=o.hideActions,S=o.query,v=o.cubejsApi,x=o.chartLibrary,k=o.setChartLibrary,E=o.chartLibraries,_=o.history;if(n)return u.a.createElement(d.a,{to:"/dashboard"});var C,w=Object(Z.getParameters)(this.codeSandboxDefinition(h,b)),O=u.a.createElement(z.a,{onClick:function(e){ge("Set Chart Library",{chartLibrary:e.key}),k(e.key)}},E.map((function(e){return u.a.createElement(z.a.Item,{key:e.value},e.title)}))),P=u.a.createElement(z.a,{onClick:function(t){ge("Set Framework",{framework:t.key}),e.setState({framework:t.key})}},je.map((function(e){return u.a.createElement(z.a.Item,{key:e.id},e.title)}))),T=E.find((function(e){return e.value===x})),M=je.find((function(e){return e.id===s})),A=u.a.createElement("form",{action:"https://codesandbox.io/api/v1/sandboxes/define",method:"POST",target:"_blank"},u.a.createElement("input",{type:"hidden",name:"parameters",value:w}),u.a.createElement(H.a.Group,null,g&&u.a.createElement(H.a,{onClick:Object(f.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({addingToDashboard:!0}),t.next=3,g.canAddChart();case 3:if("boolean"!=typeof(n=t.sent)||!n){t.next=11;break}return ge("Add to Dashboard"),t.next=8,g.addChart(p);case 8:e.setState({redirectToDashboard:!0,addingToDashboard:!1}),t.next=12;break;case 11:n?(e.setState({addingToDashboard:!1}),W.a.error({title:"There is an error loading your dashboard app",content:n,okText:"Fix",okCancel:!0,onOk:function(){_.push("/dashboard")}})):(e.setState({addingToDashboard:!1}),W.a.error({title:"Your dashboard app does not support adding of static charts",content:"Please use static dashboard template"}));case 12:case"end":return t.stop()}}),t)}))),icon:"plus",size:"small",loading:i,disabled:!!M.docsLink},i?"Preparing dashboard app. It may take a while. Please check console for progress...":"Add to Dashboard"),u.a.createElement(J.a,{overlay:P},u.a.createElement(H.a,{size:"small"},M&&M.title,u.a.createElement(X.a,{type:"down"}))),u.a.createElement(J.a,{overlay:O,disabled:!!M.docsLink},u.a.createElement(H.a,{size:"small"},T&&T.title,u.a.createElement(X.a,{type:"down"}))),u.a.createElement(H.a,{onClick:function(){ge("Show Query"),e.setState({showCode:"query"===a?null:"query"})},icon:"thunderbolt",size:"small",type:"query"===a?"primary":"default",disabled:!!M.docsLink},"JSON Query"),u.a.createElement(H.a,{onClick:function(){ge("Show Code"),e.setState({showCode:"code"===a?null:"code"})},icon:"code",size:"small",type:"code"===a?"primary":"default",disabled:!!M.docsLink},"Code"),u.a.createElement(H.a,{onClick:function(){ge("Show SQL"),e.setState({showCode:"sql"===a?null:"sql"})},icon:"question-circle",size:"small",type:"sql"===a?"primary":"default",disabled:!!M.docsLink},"SQL"),u.a.createElement(H.a,{onClick:function(){ge("Show Cache"),e.setState({showCode:"cache"===a?null:"cache"})},icon:"sync",size:"small",type:"cache"===a?"primary":"default",disabled:!!M.docsLink},"Cache"),u.a.createElement(H.a,{icon:"code-sandbox",size:"small",onClick:function(){return ge("Open Code Sandbox")},htmlType:"submit",disabled:!!M.docsLink},"Edit"))),D=JSON.stringify(S,null,2),L=function(){var e=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return navigator.clipboard||$.a.error({message:"Your browser doesn't support copy to clipboard"}),e.prev=1,e.next=4,navigator.clipboard.writeText("query"===a?D:p);case 4:$.a.success({message:"Copied to clipboard"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),$.a.error({message:"Can't copy to clipboard",description:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return C="code"===a?u.a.createElement(H.a,{icon:"copy",onClick:function(){L(),ge("Copy Code to Clipboard")},type:"primary"},"Copy Code to Clipboard"):"query"===a?u.a.createElement(H.a,{icon:"copy",onClick:function(){L(),ge("Copy Query to Clipboard")},type:"primary"},"Copy Query to Clipboard"):"sql"===a?"SQL":"Chart",j?m({resultSet:c,error:l,sandboxId:r}):u.a.createElement(B.a,{title:C,style:{minHeight:420},extra:A},M&&M.docsLink?u.a.createElement("h2",{style:{padding:24,textAlign:"center"}},"We do not support ",M.title," code generation here yet.",u.a.createElement("br",null),"Please refer to ",u.a.createElement("a",{href:M.docsLink,target:"_blank",rel:"noopener noreferrer",onClick:function(){return ge("Unsupported Framework Docs",{framework:s})}},M.title," docs")," to see on how to use it with Cube.js."):"code"===a?u.a.createElement(ie,{code:p}):"query"===a?u.a.createElement(ie,{code:D}):"sql"===a?u.a.createElement(I.QueryRenderer,{loadSql:"only",query:S,cubejsApi:v,render:function(e){var t=e.sqlQuery;return u.a.createElement(ie,{code:t&&ne.a.format(t.sql())})}}):"cache"===a?u.a.createElement(ce,{query:S,cubejsApi:v}):m({resultSet:c,error:l,sandboxId:r}))}}]),t}(u.a.Component);Se.defaultProps={query:{},cubejsApi:null,hideActions:null,dashboardSource:null,codeSandboxSource:null,codeExample:null,error:null,resultSet:null};var ve=Object(d.f)(Se),xe=n(702),ke={line:'\n  <Chart scale={{ x: { tickCount: 8 } }} height={400} data={stackedChartData(resultSet)} forceFit>\n    <Axis name="x" />\n    <Axis name="measure" />\n    <Tooltip crosshairs={{type : \'y\'}} />\n    <Geom type="line" position={`x*measure`} size={2} color="color" />\n  </Chart>',bar:'\n  <Chart scale={{ x: { tickCount: 8 } }} height={400} data={stackedChartData(resultSet)} forceFit>\n    <Axis name="x" />\n    <Axis name="measure" />\n    <Tooltip />\n    <Geom type="intervalStack" position={`x*measure`} color="color" />\n  </Chart>',area:'\n  <Chart scale={{ x: { tickCount: 8 } }} height={400} data={stackedChartData(resultSet)} forceFit>\n    <Axis name="x" />\n    <Axis name="measure" />\n    <Tooltip crosshairs={{type : \'y\'}} />\n    <Geom type="areaStack" position={`x*measure`} size={2} color="color" />\n  </Chart>',pie:"\n  <Chart height={400} data={resultSet.chartPivot()} forceFit>\n    <Coord type='theta' radius={0.75} />\n    {resultSet.seriesNames().map(s => (<Axis name={s.key} />))}\n    <Legend position='right' />\n    <Tooltip />\n    {resultSet.seriesNames().map(s => (<Geom type=\"intervalStack\" position={s.key} color=\"category\" />))}\n  </Chart>"},Ee=function(e){var t=e.chartType,n=e.renderFnName;return"import { Chart, Axis, Tooltip, Geom, Coord, Legend } from 'bizcharts';\n\nconst stackedChartData = (resultSet) => {\n  const data = resultSet.pivot().map(\n    ({ xValues, yValuesArray }) =>\n      yValuesArray.map(([yValues, m]) => ({\n        x: resultSet.axisValuesString(xValues, ', '),\n        color: resultSet.axisValuesString(yValues, ', '),\n        measure: m && Number.parseFloat(m)\n      }))\n  ).reduce((a, b) => a.concat(b), []);\n\n  return data;\n}\n\nconst ".concat(n," = ({ resultSet }) => (").concat(ke[t],"\n);")},_e={bizcharts:xe},Ce=n(732),we={line:'\n  <CartesianChart resultSet={resultSet} ChartComponent={LineChart}>\n      {resultSet.seriesNames().map((series, i) => (\n        <Line\n          key={series.key}\n          stackId="a"\n          dataKey={series.key}\n          name={series.title}\n          stroke={colors[i]}\n        />\n      ))}\n  </CartesianChart>',bar:'\n  <CartesianChart resultSet={resultSet} ChartComponent={BarChart}>\n    {resultSet.seriesNames().map((series, i) => (\n      <Bar\n        key={series.key}\n        stackId="a"\n        dataKey={series.key}\n        name={series.title}\n        fill={colors[i]}\n      />\n    ))}\n  </CartesianChart>',area:'\n  <CartesianChart resultSet={resultSet} ChartComponent={AreaChart}>\n      {resultSet.seriesNames().map((series, i) => (\n        <Area\n          key={series.key}  \n          stackId="a"\n          dataKey={series.key}\n          name={series.title}\n          stroke={colors[i]}\n          fill={colors[i]}\n        />\n      ))}\n  </CartesianChart>',pie:'\n  <ResponsiveContainer width="100%" height={350}>\n    <PieChart>\n      <Pie\n        isAnimationActive={false}\n        data={resultSet.chartPivot()}\n        nameKey="x"\n        dataKey={resultSet.seriesNames()[0].key}\n        fill="#8884d8"\n      >\n      {\n        resultSet.chartPivot().map((e, index) =>\n          <Cell key={index} fill={colors[index % colors.length]}/>\n        )\n      }\n      </Pie>\n      <Legend />\n      <Tooltip />\n    </PieChart>\n  </ResponsiveContainer>'},Oe=function(e){var t=e.chartType,n=e.renderFnName;return"import {\n  CartesianGrid,\n  PieChart,\n  Pie,\n  Cell,\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Legend,\n  BarChart,\n  Bar,\n  LineChart,\n  Line\n} from \"recharts\";\n\nconst CartesianChart = ({ resultSet, children, ChartComponent }) => (\n  <ResponsiveContainer width=\"100%\" height={350}>\n    <ChartComponent data={resultSet.chartPivot()}>\n      <XAxis dataKey=\"x\" />\n      <YAxis />\n      <CartesianGrid />\n      { children }\n      <Legend />\n      <Tooltip />\n    </ChartComponent>\n  </ResponsiveContainer>\n)\n\nconst colors = ['#FF6492', '#141446', '#7A77FF'];\n\nconst ".concat(n," = ({ resultSet }) => (").concat(we[t],"\n);")},Pe={recharts:Ce},Te=n(713),Me={line:"\n  const data = {\n    labels: resultSet.categories().map(c => c.category),\n    datasets: resultSet.series().map((s, index) => (\n      {\n        label: s.title,\n        data: s.series.map(r => r.value),\n        borderColor: COLORS_SERIES[index],\n        fill: false\n      }\n    )),\n  };\n  const options = {};\n  return <Line data={data} options={options} />;",bar:"\n  const data = {\n    labels: resultSet.categories().map(c => c.category),\n    datasets: resultSet.series().map((s, index) => (\n      {\n        label: s.title,\n        data: s.series.map(r => r.value),\n        backgroundColor: COLORS_SERIES[index],\n        fill: false\n      }\n    )),\n  };\n  const options = {\n    scales: { xAxes: [{ stacked: true }] }\n  };\n  return <Bar data={data} options={options} />;",area:"\n  const data = {\n    labels: resultSet.categories().map(c => c.category),\n    datasets: resultSet.series().map((s, index) => (\n      {\n        label: s.title,\n        data: s.series.map(r => r.value),\n        backgroundColor: COLORS_SERIES[index]\n      }\n    )),\n  };\n  const options = {\n    scales: { yAxes: [{ stacked: true }] }\n  };\n  return <Line data={data} options={options} />;",pie:"\n  const data = {\n    labels: resultSet.categories().map(c => c.category),\n    datasets: resultSet.series().map(s => (\n      {\n        label: s.title,\n        data: s.series.map(r => r.value),\n        backgroundColor: COLORS_SERIES,\n        hoverBackgroundColor: COLORS_SERIES,\n      }\n    ))\n  };\n  const options = {};\n  return <Pie data={data} options={options} />;"},Ae=function(e){var t=e.chartType,n=e.renderFnName;return"import { Line, Bar, Pie } from 'react-chartjs-2';\n\nconst COLORS_SERIES = ['#FF6492', '#141446', '#7A77FF'];\n\nconst ".concat(n," = ({ resultSet }) => {").concat(Me[t],"\n};")},De={"react-chartjs-2":Te},Le=n(731),Be=function(e){return"// Add Y axis\n  const y = d3.scaleLinear()\n    .domain([0, ".concat(e,'])\n    .range([ height, 0 ]);\n  svg.append("g")\n    .call(d3.axisLeft(y));')},Re='// Add X axis\n  const x = d3.scaleTime()\n    .domain(d3.extent(resultSet.chartPivot(), c => d3.isoParse(c.x)))\n    .range([ 0, width ]);\n  svg.append("g")\n    .attr("transform", "translate(0," + height + ")")\n    .call(d3.axisBottom(x));',Ie="// Transform data into D3 format\n  const keys = resultSet.seriesNames().map(s => s.key)\n  const data = d3.stack()\n    .keys(keys)\n    (resultSet.chartPivot())\n\n  // Color palette\n  const color = d3.scaleOrdinal()\n    .domain(keys)\n    .range(COLORS_SERIES)",qe={line:"\n  // Prepare data in D3 format\n  const data = resultSet.series().map((series) => ({\n    key: series.title, values: series.series\n  }));\n\n  // color palette\n  const color = d3.scaleOrdinal()\n    .domain(data.map(d => d.key ))\n    .range(COLORS_SERIES)\n\n  ".concat(Re,"\n\n  ").concat(Be("d3.max(data.map((s) => d3.max(s.values, (i) => i.value)))"),'\n\n  // Draw the lines\n  svg.selectAll(".line")\n    .data(data)\n    .enter()\n    .append("path")\n      .attr("fill", "none")\n      .attr("stroke", d => color(d.key))\n      .attr("stroke-width", 1.5)\n      .attr("d", (d) => {\n        return d3.line()\n          .x(d => x(d3.isoParse(d.x)))\n          .y(d => y(+d.value))\n          (d.values)\n      })\n  '),bar:"\n  ".concat(Ie,'\n\n  // Add X axis\n  const x = d3.scaleBand()\n    .range([ 0, width ])\n    .domain(resultSet.chartPivot().map(c => c.x))\n    .padding(0.3);\n  svg.append("g")\n    .attr("transform", "translate(0," + height + ")")\n    .call(d3.axisBottom(x))\n\n  ').concat(Be("d3.max(data.map((s) => d3.max(s, (i) => i[1])))"),'\n\n  // Add the bars\n  svg.append("g")\n    .selectAll("g")\n    // Enter in the stack data = loop key per key = group per group\n    .data(data)\n    .enter().append("g")\n      .attr("fill", d => color(d.key))\n      .selectAll("rect")\n      // enter a second time = loop subgroup per subgroup to add all rectangles\n      .data(d => d)\n      .enter().append("rect")\n        .attr("x", d => x(d.data.x))\n        .attr("y", d => y(d[1]))\n        .attr("height", d => y(d[0]) - y(d[1]))\n        .attr("width",x.bandwidth())\n    '),area:"\n  ".concat(Ie,"\n\n  ").concat(Re,"\n\n  ").concat(Be("d3.max(data.map((s) => d3.max(s, (i) => i[1])))"),'\n\n  // Add the areas\n  svg\n  .selectAll("mylayers")\n  .data(data)\n  .enter().append("path")\n    .style("fill", d => color(d.key))\n    .attr("d", d3.area()\n      .x(d => x(d3.isoParse(d.data.x)))\n      .y0(d => y(d[0]))\n      .y1(d => y(d[1]))\n  )\n  '),pie:"const data = resultSet.series()[0].series.map(s => s.value);\n  const data_ready = d3.pie()(data);\n\n  // The radius of the pieplot is half the width or half the height (smallest one).\n  const radius = Math.min(400, 400) / 2 - 40;\n\n  // Seprate container to center align pie chart\n  const pieContainer = svg.attr('height', height)\n      .append('g')\n      .attr('transform', 'translate(' + width/2 +  ',' + height/2 +')');\n\n  pieContainer\n    .selectAll('pieArcs')\n    .data(data_ready)\n    .enter()\n    .append('path')\n    .attr('d', d3.arc()\n      .innerRadius(0)\n      .outerRadius(radius)\n    )\n    .attr('fill', d => COLORS_SERIES[d.index])\n  "},Ne=function(e){var t=e.chartType,n=e.renderFnName;return"\nimport * as d3 from 'd3';\nconst COLORS_SERIES = ['#FF6492', '#141446', '#7A77FF'];\n\nconst draw = (node, resultSet, chartType) => {\n  ".concat('// Set the dimensions and margins of the graph\n  const margin = {top: 10, right: 30, bottom: 30, left: 60},\n    width = node.clientWidth - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\n  d3.select(node).html("");\n  const svg = d3.select(node)\n  .append("svg")\n    .attr("width", width + margin.left + margin.right)\n    .attr("height", height + margin.top + margin.bottom)\n  .append("g")\n    .attr("transform",\n          "translate(" + margin.left + "," + margin.top + ")");',"\n  ").concat(qe[t],"\n}\n\nconst ").concat(n," = ({ resultSet }) => (\n  <div ref={el => el && draw(el, resultSet, '").concat(t,"')} />\n)\n")},Fe={d3:Le},Ge={number:'\n  <Row type="flex" justify="center" align="middle" style={{ height: \'100%\' }}>\n    <Col>\n      {resultSet\n        .seriesNames()\n        .map(s => (\n          <Statistic value={resultSet.totalRow()[s.key]} />\n        ))}\n    </Col>\n  </Row>\n  ',table:"\n  <Table \n    pagination={false}\n    columns={resultSet.tableColumns().map(c => ({ ...c, dataIndex: c.key }))} \n    dataSource={resultSet.tablePivot()} \n  />\n  "},Ue=function(e){var t=e.chartType,n=e.renderFnName;return"import { Row, Col, Statistic, Table } from 'antd';\n\nconst ".concat(n," = ({ resultSet }) => (").concat(Ge[t],"\n);")},Ke={},Ve={chartjs:{library:i,title:"Chart.js"},recharts:{library:r,title:"Recharts"},bizcharts:{library:a,title:"Bizcharts"},d3:{library:s,title:"D3"}},Ye={presets:[U.a,V.a]},Qe=function(e){var t=e.chartLibrary,n=e.query,a=e.apiUrl,r=e.cubejsToken,i=e.chartType,s="".concat(i,"Render");return"import React from 'react';\nimport cubejs from '@cubejs-client/core';\nimport { QueryRenderer } from '@cubejs-client/react';\nimport { Spin } from 'antd';\n".concat(t.sourceCodeTemplate(Object(w.a)({},e,{renderFnName:s})),'\n\nconst API_URL = "').concat(a,'"; // change to your actual endpoint\n\nconst cubejsApi = cubejs(\n  "').concat(r,'",\n  { apiUrl: API_URL + "/cubejs-api/v1" }\n);\n\nconst renderChart = (Component) => ({ resultSet, error }) => (\n  (resultSet && <Component resultSet={resultSet} />) ||\n  (error && error.toString()) || \n  (<Spin />)\n)\n\nconst ChartRenderer = () => <QueryRenderer\n  query={').concat(("object"==typeof n?JSON.stringify(n,null,2):n).split("\n").map((function(e,t){return t>0?"  ".concat(e):e})).join("\n"),"}\n  cubejsApi={cubejsApi}\n  render={renderChart(").concat(s,")}\n/>;\n\nexport default ChartRenderer;\n")},ze=function(e){return"import ReactDOM from 'react-dom';\nimport \"antd/dist/antd.css\";\n".concat(e,'\n\nconst rootElement = document.getElementById("root");\nReactDOM.render(<ChartRenderer />, rootElement);\n')},He=Object.keys(Ve).map((function(e){return{value:e,title:Ve[e].title}})),We=function(e){var t=e.query,n=e.resultSet,a=e.error,r=e.sqlQuery,i=e.dashboardSource,s=e.cubejsApi,l=e.chartType,p=e.sourceCodeFn,d=Object(c.useState)("bizcharts"),m=Object(q.a)(d,2),h=m[0],y=m[1];p=p||Qe;var f=function(e,t){return-1!==["table","number"].indexOf(e)?o:Ve[t].library}(l,h),b=p(Object(w.a)({},e,{chartLibrary:f})),g=Object(w.a)({"@cubejs-client/core":C.a,"@cubejs-client/react":I,antd:Y,react:u.a},f.imports);return u.a.createElement(F.a,{babelConfig:Ye,onError:function(e){return console.log(e)},resolver:function(e){return g[e]},source:b},u.a.createElement(F.a.Consumer,null,(function(e){var o=e.element,c=e.error;return u.a.createElement(ve,{query:t,resultSet:n,error:a,sqlQuery:r,codeExample:b,codeSandboxSource:ze(b),dependencies:g,dashboardSource:i,chartLibrary:h,setChartLibrary:y,chartLibraries:He,cubejsApi:s,render:function(){return c?u.a.createElement(Q.a,{message:"Error occurred while compiling JS",description:u.a.createElement("pre",null,c.toString()),type:"error"}):o}})})))};We.defaultProps={resultSet:null,error:null,sqlQuery:null,dashboardSource:null,cubejsApi:null,chartType:null,sourceCodeFn:null};var Je=function(e){var t=e.overlay,n=Object(O.a)(e,["overlay"]);return u.a.createElement(J.a,{overlay:t,placement:"bottomLeft",trigger:["click"]},u.a.createElement(H.a,n))},Xe=function(e,t){return u.a.createElement(z.a,null,t.length?t.map((function(t){return u.a.createElement(z.a.Item,{key:t.name,onClick:function(){return e(t)}},t.title)})):u.a.createElement(z.a.Item,{disabled:!0},"No members found"))},$e=function(e){var t=e.onClick,n=e.availableMembers,a=Object(O.a)(e,["onClick","availableMembers"]);return u.a.createElement(Je,Object.assign({overlay:Xe(t,n)},a))},Ze=function(e){var t=e.onRemoveClick,n=e.children,a=Object(O.a)(e,["onRemoveClick","children"]);return u.a.createElement(H.a.Group,Object.assign({style:{marginRight:8}},a),n,u.a.createElement(H.a,{type:"danger",ghost:!0,onClick:t},u.a.createElement(X.a,{type:"close"})))},et=function(e){var t=e.members,n=e.availableMembers,a=e.addMemberName,r=e.updateMethods;return u.a.createElement("span",null,t.map((function(e){return u.a.createElement(Ze,{key:e.index||e.name,onRemoveClick:function(){return r.remove(e)}},u.a.createElement($e,{availableMembers:n,onClick:function(t){return r.update(e,t)}},e.title))})),u.a.createElement($e,{onClick:function(e){return r.add(e)},availableMembers:n,type:"dashed",icon:"plus"},a))},tt=n(84),nt=n(0),at=n(160),rt={string:function(e){var t=e.values,n=e.onChange;return u.a.createElement(tt.a,{key:"input",style:{width:300},mode:"tags",onChange:n,value:t})},number:function(e){var t=e.values,n=e.onChange;return u.a.createElement(at.a,{key:"input",style:{width:300},onChange:function(e){return n([e.target.value])},value:t&&t[0]||""})}};rt.string.propTypes={values:nt.array,onChange:nt.func.isRequired},rt.string.defaultProps={values:[]},rt.number.propTypes={values:nt.array,onChange:nt.func.isRequired},rt.number.defaultProps={values:[]};var it=function(e){var t=e.member,n=e.updateMethods,a=rt[t.dimension.type]||rt.string;return u.a.createElement(a,{key:"filter",values:t.values,onChange:function(e){return n.update(t,Object(w.a)({},t,{values:e}))}})},st=function(e){var t=e.members,n=e.availableMembers,a=e.addMemberName,r=e.updateMethods;return u.a.createElement("span",null,t.map((function(e){return u.a.createElement("div",{style:{marginBottom:12},key:e.index},u.a.createElement(Ze,{onRemoveClick:function(){return r.remove(e)}},u.a.createElement($e,{onClick:function(t){return r.update(e,Object(w.a)({},e,{dimension:t}))},availableMembers:n,style:{width:150,textOverflow:"ellipsis",overflow:"hidden"}},e.dimension.title)),u.a.createElement(tt.a,{value:e.operator,onChange:function(t){return r.update(e,Object(w.a)({},e,{operator:t}))},style:{width:200,marginRight:8}},e.operators.map((function(e){return u.a.createElement(tt.a.Option,{key:e.name,value:e.name},e.title)}))),u.a.createElement(it,{member:e,key:"filterInput",updateMethods:r}))})),u.a.createElement($e,{onClick:function(e){return r.add({dimension:e})},availableMembers:n,type:"dashed",icon:"plus"},a))},ot=[{title:"All time",value:void 0},{value:"Today"},{value:"Yesterday"},{value:"This week"},{value:"This month"},{value:"This quarter"},{value:"This year"},{value:"Last 7 days"},{value:"Last 30 days"},{value:"Last week"},{value:"Last month"},{value:"Last quarter"},{value:"Last year"}],ct=function(e){var t=e.members,n=e.availableMembers,a=e.addMemberName,r=e.updateMethods;return u.a.createElement("span",null,t.map((function(e){return[u.a.createElement(Ze,{onRemoveClick:function(){return r.remove(e)},key:"".concat(e.dimension.name,"-member")},u.a.createElement($e,{onClick:function(t){return r.update(e,Object(w.a)({},e,{dimension:t}))},availableMembers:n},e.dimension.title)),u.a.createElement("b",{key:"".concat(e.dimension.name,"-for")},"FOR"),u.a.createElement(Je,{overlay:(i=function(t){return r.update(e,Object(w.a)({},e,{dateRange:t.value}))},u.a.createElement(z.a,null,ot.map((function(e){return u.a.createElement(z.a.Item,{key:e.title||e.value,onClick:function(){return i(e)}},e.title||e.value)})))),style:{marginLeft:8,marginRight:8},key:"".concat(e.dimension.name,"-date-range")},e.dateRange||"All time"),u.a.createElement("b",{key:"".concat(e.dimension.name,"-by")},"BY"),u.a.createElement(Je,{overlay:(t=e.dimension,a=function(t){return r.update(e,Object(w.a)({},e,{granularity:t.name}))},u.a.createElement(z.a,null,t.granularities.length?t.granularities.map((function(e){return u.a.createElement(z.a.Item,{key:e.title,onClick:function(){return a(e)}},e.title)})):u.a.createElement(z.a.Item,{disabled:!0},"No members found"))),style:{marginLeft:8},key:"".concat(e.dimension.name,"-granularity")},e.dimension.granularities.find((function(t){return t.name===e.granularity}))&&e.dimension.granularities.find((function(t){return t.name===e.granularity})).title)];var t,a,i})),!t.length&&u.a.createElement($e,{onClick:function(e){return r.add({dimension:e,granularity:"day"})},availableMembers:n,type:"dashed",icon:"plus"},a))},ut=[{name:"line",title:"Line",icon:"line-chart"},{name:"area",title:"Area",icon:"area-chart"},{name:"bar",title:"Bar",icon:"bar-chart"},{name:"pie",title:"Pie",icon:"pie-chart"},{name:"table",title:"Table",icon:"table"},{name:"number",title:"Number",icon:"info-circle"}],lt=function(e){var t=e.chartType,n=e.updateChartType,a=u.a.createElement(z.a,null,ut.map((function(e){return u.a.createElement(z.a.Item,{key:e.title,onClick:function(){return n(e.name)}},u.a.createElement(X.a,{type:e.icon}),e.title)}))),r=ut.find((function(e){return e.name===t}));return u.a.createElement(Je,{overlay:a,icon:r.icon},r.title)},pt=function(e,t){return Object.keys(e).map((function(n){return Object(A.a)({},n,(function(a,r){var i="".concat(n.split("").map((function(e,t){return 0===t?e.toUpperCase():e})).join("")," Member");r&&r.values&&(i="Update Filter Values"),r&&r.dateRange&&(i="Update Date Range"),r&&r.granularity&&(i="Update Granularity"),ge(i,{memberName:t});for(var s=arguments.length,o=new Array(s>2?s-2:0),c=2;c<s;c++)o[c-2]=arguments[c];return e[n].apply(null,[a,r].concat(o))}))})).reduce((function(e,t){return Object(w.a)({},e,t)}),{})},dt=function(e){var t=e.query,n=e.cubejsApi,a=e.apiUrl,r=e.cubejsToken,i=e.dashboardSource,s=e.setQuery;return u.a.createElement(I.QueryBuilder,{query:t,setQuery:s,cubejsApi:n,render:function(e){var t=e.resultSet,s=e.error,o=e.validatedQuery,c=e.isQueryPresent,l=e.chartType,p=e.updateChartType,d=e.measures,m=e.availableMeasures,h=e.updateMeasures,y=e.dimensions,f=e.availableDimensions,b=e.updateDimensions,g=e.segments,j=e.availableSegments,S=e.updateSegments,v=e.filters,x=e.updateFilters,k=e.timeDimensions,E=e.availableTimeDimensions,_=e.updateTimeDimensions;return[u.a.createElement(D.a,{type:"flex",justify:"space-around",align:"top",gutter:24,style:{marginBottom:12},key:"1"},u.a.createElement(L.a,{span:24},u.a.createElement(B.a,null,u.a.createElement(D.a,{type:"flex",justify:"space-around",align:"top",gutter:24,style:{marginBottom:12}},u.a.createElement(L.a,{span:24},u.a.createElement(et,{members:d,availableMembers:m,addMemberName:"Measure",updateMethods:pt(h,"Measure")}),u.a.createElement(R.a,{type:"vertical"}),u.a.createElement(et,{members:y,availableMembers:f,addMemberName:"Dimension",updateMethods:pt(b,"Dimension")}),u.a.createElement(R.a,{type:"vertical"}),u.a.createElement(et,{members:g,availableMembers:j,addMemberName:"Segment",updateMethods:pt(S,"Segment")}),u.a.createElement(R.a,{type:"vertical"}),u.a.createElement(ct,{members:k,availableMembers:E,addMemberName:"Time",updateMethods:pt(_,"Time")}))),u.a.createElement(D.a,{type:"flex",justify:"space-around",align:"top",gutter:24,style:{marginBottom:12}},u.a.createElement(L.a,{span:24},u.a.createElement(st,{members:v,availableMembers:f.concat(m),addMemberName:"Filter",updateMethods:pt(x,"Filter")}))),u.a.createElement(D.a,{type:"flex",justify:"space-around",align:"top",gutter:24},u.a.createElement(L.a,{span:24},u.a.createElement(lt,{chartType:l,updateChartType:function(e){ge("Change Chart Type"),p(e)}})))))),u.a.createElement(D.a,{type:"flex",justify:"space-around",align:"top",gutter:24,key:"2"},u.a.createElement(L.a,{span:24},c?u.a.createElement(We,{query:o,resultSet:t,error:s,apiUrl:a,cubejsToken:r,chartType:l,cubejsApi:n,dashboardSource:i}):u.a.createElement("h2",{style:{textAlign:"center"}},"Choose a measure or dimension to get started")))]}})};dt.defaultProps={query:{},setQuery:null,cubejsApi:null,dashboardSource:null,apiUrl:"/cubejs-api/v1",cubejsToken:null};var mt=dt,ht=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(j.a)(this,Object(S.a)(t).call(this,e))).state={},n.dashboardSource=new M,n}var n;return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:(n=Object(f.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)("/playground/context");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({cubejsToken:n.cubejsToken,apiUrl:n.apiUrl||window.location.href.split("#")[0].replace(/\/$/,"")});case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"cubejsApi",value:function(){var e=this.state,t=e.cubejsToken,n=e.apiUrl;return!this.cubejsApiInstance&&t&&(this.cubejsApiInstance=C()(t,{apiUrl:"".concat(n,"/cubejs-api/v1")})),this.cubejsApiInstance}},{key:"render",value:function(){var e=this.state,t=e.cubejsToken,n=e.apiUrl,a=this.props,r=a.location,i=a.history,s=new URLSearchParams(r.search),o=s.get("query")&&JSON.parse(s.get("query"))||{};return this.cubejsApi()&&u.a.createElement(mt,{query:o,setQuery:function(e){return i.push("/build?query=".concat(JSON.stringify(e)))},cubejsApi:this.cubejsApi(),apiUrl:n,cubejsToken:t,dashboardSource:this.dashboardSource})||null}}]),t}(c.Component);ht.defaultProps={};var yt=ht,ft=n(657),bt=n(690),gt=n(168),jt=ft.a.Content,St=ft.a.Sider,vt=bt.a.TreeNode,xt=se.a.TabPane,kt=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(j.a)(this,Object(S.a)(t).call(this,e))).state={expandedKeys:[],autoExpandParent:!0,checkedKeys:[],selectedKeys:[],activeTab:"schema",files:[]},n}var n,a,r,i;return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:(i=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadDBSchema();case 2:return e.next=4,this.loadFiles();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onExpand",value:function(e){ge("Expand Tables"),this.setState({expandedKeys:e,autoExpandParent:!1})}},{key:"onCheck",value:function(e){ge("Check Tables"),this.setState({checkedKeys:e})}},{key:"onSelect",value:function(e){this.setState({selectedKeys:e})}},{key:"cubejsApi",value:function(){var e=this.state,t=e.cubejsToken,n=e.apiUrl;return!this.cubejsApiInstance&&t&&(this.cubejsApiInstance=C()(t,{apiUrl:"".concat(n,"/cubejs-api/v1")})),this.cubejsApiInstance}},{key:"loadDBSchema",value:(r=Object(f.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({schemaLoading:!0}),e.prev=1,e.next=4,P("/playground/db-schema");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,this.setState({tablesSchema:n.tablesSchema}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),this.setState({schemaLoadingError:e.t0});case 14:return e.prev=14,this.setState({schemaLoading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))),function(){return r.apply(this,arguments)})},{key:"loadFiles",value:(a=Object(f.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/playground/files");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({files:n.files});case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"generateSchema",value:(n=Object(f.a)(y.a.mark((function e(){var t,n,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.checkedKeys,a=t.tablesSchema,r=this.props.history,ge("Generate Schema"),e.next=5,P("/playground/generate-schema",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tables:n.filter((function(e){return 2===e.split(".").length})),tablesSchema:a})});case 5:if(200!==(i=e.sent).status){e.next=14;break}return ge("Generate Schema Success"),e.next=10,this.loadFiles();case 10:this.setState({checkedKeys:[],activeTab:"files"}),W.a.success({title:"Schema files successfully generated!",content:"You can start building the charts",okText:"Build",cancelText:"Close",okCancel:!0,onOk:function(){r.push("/build")}}),e.next=20;break;case 14:return e.t0=ge,e.next=17,i.text();case 17:e.t1=e.sent,e.t2={error:e.t1},(0,e.t0)("Generate Schema Fail",e.t2);case 20:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"selectedFileContent",value:function(){var e=this.selectedFile();return e&&e.content}},{key:"selectedFile",value:function(){var e=this.state,t=e.files,n=e.selectedFile;return t.find((function(e){return e.fileName===n}))}},{key:"renderFilesMenu",value:function(){var e=this,t=this.state,n=t.selectedFile,a=t.files;return u.a.createElement(z.a,{mode:"inline",onClick:function(t){var n=t.key;ge("Select File"),e.setState({selectedFile:n})},selectedKeys:n?[n]:[]},a.map((function(e){return u.a.createElement(z.a.Item,{key:e.fileName},e.fileName)})))}},{key:"render",value:function(){var e=this,t=this.state,n=t.schemaLoading,a=t.schemaLoadingError,r=t.tablesSchema,i=t.selectedFile,s=t.expandedKeys,o=t.autoExpandParent,c=t.checkedKeys,l=t.selectedKeys,p=t.activeTab,d=u.a.createElement(z.a,null,u.a.createElement(z.a.Item,{onClick:function(){return e.generateSchema()}},"Generate Schema")),m=function(){return Object.keys(r||{}).length>0?u.a.createElement(bt.a,{checkable:!0,onExpand:e.onExpand.bind(e),expandedKeys:s,autoExpandParent:o,onCheck:e.onCheck.bind(e),checkedKeys:c,onSelect:e.onSelect.bind(e),selectedKeys:l},function e(t){return t.map((function(t){return t.children?u.a.createElement(vt,{title:t.title,key:t.key,dataRef:t},e(t.children)):u.a.createElement(vt,t)}))}((t=r||{},Object.keys(t).map((function(e){return{title:e,key:e,children:Object.keys(t[e]).map((function(t){return{title:t,key:"".concat(e,".").concat(t)}}))}}))))):u.a.createElement(Q.a,{message:"Empty DB Schema",description:"Please check connection settings",type:"warning"});var t};return u.a.createElement(ft.a,{style:{height:"100%"}},u.a.createElement(St,{width:300,style:{background:"#fff",borderRight:"1px solid #eee"},className:"schema-sidebar"},u.a.createElement(se.a,{activeKey:p,onChange:function(t){return e.setState({activeTab:t})},tabBarExtraContent:u.a.createElement(J.a,{overlay:d,placement:"bottomRight",disabled:!c.length},u.a.createElement(H.a,{shape:"circle",icon:"plus",type:"primary",style:{marginRight:8}}))},u.a.createElement(xt,{tab:"Tables",key:"schema"},n?u.a.createElement(k.a,{style:{width:"100%"}}):a?u.a.createElement(Q.a,{message:"Error while loading DB schema",description:a.toString(),type:"error"}):m()),u.a.createElement(xt,{tab:"Files",key:"files"},this.renderFilesMenu()))),u.a.createElement(jt,{style:{minHeight:280}},i&&u.a.createElement(Q.a,{message:u.a.createElement("span",null,"This file can be edited at ",u.a.createElement("b",null,this.selectedFile().absPath)),type:"info",style:{paddingTop:10,paddingBottom:11}}),i?u.a.createElement(ie,{code:this.selectedFileContent(),style:{padding:12}}):u.a.createElement(gt.a,{style:{marginTop:50},description:"Select tables to generate Cube.js schema"})))}}]),t}(c.Component),Et=n(95),_t=function(e){var t=e.children;return u.a.createElement("div",{style:{textAlign:"center",marginTop:50}},t)},Ct=function(){return u.a.createElement("p",{style:{width:450,margin:"20px auto"}},"Dashboard App is a convenient way to setup and deploy frontend app to work with Cube.js backend. You can learn more about it the ",u.a.createElement("a",{href:"https://cube.dev/docs/dashboard-app",target:"_blankl"},"Cube.js docs"),".")},wt=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(j.a)(this,Object(S.a)(t).call(this,e))).state={chartLibrary:He[0].value,framework:"react",templatePackageName:"react-antd-dynamic"},n}var n,a,r;return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:(r=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dashboardSource=new M,e.next=3,this.loadDashboard();case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadDashboard",value:(a=Object(f.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({appCode:null,loadError:null}),e.prev=1,e.next=4,this.dashboardSource.load();case 4:return this.setState({dashboardStarting:!1,appCode:!this.dashboardSource.loadError&&this.dashboardSource.dashboardCreated,loadError:this.dashboardSource.loadError}),e.next=7,P("/playground/dashboard-app-status");case 7:return e.next=9,e.sent.json();case 9:t=e.sent,this.setState({dashboardRunning:t.running,dashboardPort:t.dashboardPort,dashboardAppPath:t.dashboardAppPath}),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(1),this.setState({dashboardStarting:!1,loadError:u.a.createElement("pre",null,e.t0.toString())}),e.t0;case 17:case"end":return e.stop()}}),e,this,[[1,13]])}))),function(){return a.apply(this,arguments)})},{key:"startDashboardApp",value:(n=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({dashboardStarting:!0}),e.next=3,P("/playground/start-dashboard-app");case 3:return e.next=5,this.loadDashboard();case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.appCode,a=t.dashboardPort,r=t.loadError,i=t.dashboardRunning,s=t.dashboardStarting,o=t.dashboardAppPath;if(r&&"string"==typeof r&&-1!==r.indexOf("Dashboard app not found"))return u.a.createElement(d.a,{to:"/template-gallery"});if(r)return u.a.createElement(_t,null,u.a.createElement("h2",null,r),u.a.createElement("p",{style:{marginTop:25}},u.a.createElement(Et.a,{to:"/template-gallery"},u.a.createElement(H.a,{type:"primary"},"Create dashboard app in your project directory"))),u.a.createElement(Ct,null));if(!n)return u.a.createElement(_t,null,u.a.createElement("h2",null," Creating Dashboard App"),u.a.createElement("p",null,u.a.createElement(k.a,{tip:"It may take several minutes. Please check console for progress..."})),u.a.createElement(Ct,null));if(!i)return u.a.createElement(_t,null,u.a.createElement("h2",null,"Dashboard App is not running"),u.a.createElement("h3",null,"Please start dashboard app or run it manually using",u.a.createElement("code",{className:"inline-code"},"$ npm run start"),u.a.createElement("br",null),"in ",u.a.createElement("b",null,o)," directory."),u.a.createElement("p",{style:{marginTop:25}},u.a.createElement(H.a,{type:"primary",size:"large",loading:s,onClick:function(){return e.startDashboardApp(!0)}},s?"Dashboard app is starting. It may take a while. Please check console for progress...":"Start dashboard app")),u.a.createElement(Ct,null));var c="http://".concat(window.location.hostname,":").concat(a);return u.a.createElement("div",{style:{height:"100%",width:"100%",padding:"15px 30px 30px 30px",background:"#fff"}},u.a.createElement(Q.a,{message:u.a.createElement("span",null,"This dashboard app can be edited at ",u.a.createElement("b",null,o),". Dev server is running at ",u.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},c),". Learn more how to customize and deploy it at ",u.a.createElement("a",{href:"https://cube.dev/docs/dashboard-app"},"Cube.js docs"),". ",u.a.createElement("a",{onClick:function(){return window.location.reload()},style:{cursor:"pointer"}},"Refresh page")," if it is empty."),type:"info",closable:!0,style:{marginBottom:15}}),u.a.createElement("iframe",{src:c,style:{width:"100%",height:"100%",border:0,borderRadius:4,overflow:"hidden"},sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin",title:"Dashboard"}))}}]),t}(c.Component),Ot=Object(d.f)(wt),Pt=(n(1926),n(1927),n(96)),Tt=n(97),Mt=n(463);function At(){var e=Object(Pt.a)(["\n  padding: 0 27px;\n  height: 40px;\n  border-radius: 4px;\n  border: 1px solid #D0D0DA;\n  &.ant-btn-primary {\n    border: none;\n    &:hover {\n      background-color: #644AFF;\n    }\n  }\n"]);return At=function(){return e},e}var Dt=Object(Tt.a)(H.a)(At()),Lt=function(e){return u.a.createElement(Dt,e)};function Bt(){var e=Object(Pt.a)(["\n  float: right;\n  height: 32px;\n  margin: 8px ",";\n  border: 0.5px solid rgba(67, 67, 107, 0.4);\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  color: #43436B;\n  transition: all 0.25s ease;\n  i {\n    font-size: 20px;\n    margin-right: 10px;\n    opacity: 0.3;\n  }\n  padding: 0 10px;\n  &:hover {\n    i { opacity: 0.6; }\n    border-color: rgba(67, 67, 107, 1);\n    color: #43436B;\n  }\n"]);return Bt=function(){return e},e}function Rt(){var e=Object(Pt.a)(["\n  font-size: 15px;\n  font-weight: 500;\n  & > a {\n    opacity: 0.6;\n  }\n  &.ant-menu-item-selected,\n  &.ant-menu-item-active {\n    a {\n      opacity: 1;\n    }\n  }\n\n  &&:not(.ant-menu-item-selected) {\n    &.ant-menu-item-active, &:hover {\n      color: #43436B;\n      border-bottom: 2px solid transparent;\n    }\n  }\n"]);return Rt=function(){return e},e}function It(){var e=Object(Pt.a)(["\n  background: #EEEEF5;\n  border-bottom: 0;\n"]);return It=function(){return e},e}var qt=Object(Tt.a)(z.a)(It()),Nt=Object(Tt.a)(z.a.Item)(Rt()),Ft=Tt.a.a(Bt(),(function(e){return e.noMargin?"0":"8px"})),Gt=function(e){var t=e.selectedKeys,n=Object(Mt.useMediaQuery)({query:"(min-device-width: 992px)"}),a=Object(Mt.useMediaQuery)({query:"(max-device-width: 991px)"});return u.a.createElement(ft.a.Header,{style:{padding:"0 32px"}},u.a.createElement("div",{style:{float:"left"}},u.a.createElement("img",{src:"./cubejs-playground-logo.svg",style:{display:"inline",height:28,marginRight:28},alt:""})),n&&u.a.createElement(qt,{theme:"light",mode:"horizontal",selectedKeys:t},u.a.createElement(Nt,{key:"/build"},u.a.createElement(Et.a,{to:"/build"},"Build")),u.a.createElement(Nt,{key:"/dashboard"},u.a.createElement(Et.a,{to:"/dashboard"},"Dashboard App")),u.a.createElement(Nt,{key:"/schema"},u.a.createElement(Et.a,{to:"/schema"},"Schema")),u.a.createElement(Ft,{noMargin:!0,key:"slack",href:"https://slack.cube.dev",target:"_blank"},u.a.createElement(X.a,{type:"slack"}),"Slack"),u.a.createElement(Ft,{key:"docs",href:"https://cube.dev/docs",target:"_blank"},u.a.createElement(X.a,{type:"book"}),"Docs")),a&&u.a.createElement("div",{style:{float:"right"}},u.a.createElement(J.a,{overlay:u.a.createElement(z.a,null,u.a.createElement(z.a.Item,{key:"/build"},u.a.createElement(Et.a,{to:"/build"},"Build")),u.a.createElement(z.a.Item,{key:"/dashboard"},u.a.createElement(Et.a,{to:"/dashboard"},"Dashboard App")),u.a.createElement(z.a.Item,{key:"/schema"},u.a.createElement(Et.a,{to:"/schema"},"Schema")))},u.a.createElement(X.a,{type:"menu"}))))},Ut=function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(S.a)(t).apply(this,arguments))}var n;return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:(n=Object(f.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("unhandledrejection",(function(e){var t=e.reason;console.log(t);var n=(t.stack||t).toString();be("Playground Error",{error:n}),$.a.error({message:u.a.createElement("span",null,u.a.createElement("b",null,"Error")," 😢",u.a.createElement("div",null,"Ask about it in ",u.a.createElement("a",{href:"https://slack.cube.dev",target:"_blank",rel:"noopener noreferrer"},"Slack"),". These guys know how to fix this for sure!")),description:n})})),e.next=3,Object(x.a)("/playground/context");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=n.anonymousId,r={coreServerVersion:n.coreServerVersion,projectFingerprint:n.projectFingerprint},ye=r,fe(Object(w.a)({event:"identify",anonymousId:a},r));case 8:case"end":return e.stop()}var a,r}),e)}))),function(){return n.apply(this,arguments)})},{key:"componentDidCatch",value:function(e,t){be("Playground Error",{error:(e.stack||e).toString(),info:t.toString()})}},{key:"render",value:function(){var e,t=(this.state||{}).fatalError,n=this.props,a=n.location,r=n.children;return u.a.createElement(ft.a,{style:{height:"100%"}},u.a.createElement(Gt,{selectedKeys:(e=a.pathname,"/template-gallery"===e?["/dashboard"]:[e])}),u.a.createElement(ft.a.Content,{style:{height:"100%"}},t?u.a.createElement(Q.a,{message:"Error occured while rendering",description:t.stack,type:"error"}):r))}}],[{key:"getDerivedStateFromError",value:function(e){return{fatalError:e}}}]),t}(c.Component);Ut.defaultProps={children:[]};var Kt=Object(d.f)(Ut),Vt=n(691);function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Qt=u.a.createElement("path",{d:"M47 92V2",stroke:"#43436B",strokeWidth:3,strokeLinecap:"round"}),zt=u.a.createElement("path",{d:"M92 47L2 47",stroke:"#43436B",strokeWidth:3,strokeLinecap:"round"}),Ht=function(e){return u.a.createElement("svg",Yt({width:94,height:94,viewBox:"0 0 94 94",fill:"none"},e),Qt,zt)},Wt=(n.p,n(689)),Jt=n(660);function Xt(){var e=Object(Pt.a)(["\n  && {\n    .ant-form-item-label {\n      line-height: 16px;\n      margin-bottom: 7px;\n      label {\n        font-weight: 500;\n        font-size: 12px;\n        line-height: 16px;\n      }\n    }\n\n    .ant-dropdown-trigger {\n      border-color: #ECECF0;\n      padding: 13px 16px;\n      line-height: 13px;\n    }\n  }\n"]);return Xt=function(){return e},e}function $t(){var e=Object(Pt.a)(["\n  && {\n    .ant-modal-header {\n      border-bottom: none;\n      padding: 40px 32px 0 32px;\n\n      .ant-modal-title {\n        font-size: 20px;\n      }\n    }\n\n    .ant-modal-footer {\n      border-top: none;\n      padding: 0 32px 34px 32px;\n      text-align: left;\n    }\n  }\n"]);return $t=function(){return e},e}var Zt=Object(Tt.a)(W.a)($t()),en=Object(Tt.a)(Wt.a)(Xt()),tn=function(){return u.a.createElement(X.a,{type:"caret-down",style:{color:"#727290"}})},nn=function(e){var t=e.visible,n=e.onOk,a=e.onCancel,r=e.onChange,i=e.chartLibraries,s=e.currentLibraryItem,o=e.frameworks,c=e.framework,l=e.frameworkItem,p=e.templatePackages,d=e.templatePackage,m=e.enableWebSocketTransport,h=u.a.createElement(z.a,{onClick:function(e){ge("Set Chart Library",{chartLibrary:e.key}),r("chartLibrary",e.key)}},i.map((function(e){return u.a.createElement(z.a.Item,{key:e.value},e.title)}))),y=u.a.createElement(z.a,{onClick:function(e){ge("Set Framework",{framework:e.key}),r("framework",e.key)}},o.map((function(e){return u.a.createElement(z.a.Item,{key:e.id},e.title)}))),f=u.a.createElement(z.a,{onClick:function(e){ge("Set Template Package",{templatePackageName:e.key}),r("templatePackageName",e.key)}},(p||[]).map((function(e){return u.a.createElement(z.a.Item,{key:e.name},e.description)})));return u.a.createElement(Zt,{title:"Create your own Dashboard App",visible:t,onOk:n,onCancel:a,footer:[u.a.createElement(Lt,{key:"submit",type:"primary",onClick:n},"Ok"),u.a.createElement(Lt,{key:"back",onClick:a},"Cancel")]},u.a.createElement(en,null,u.a.createElement(Wt.a.Item,{label:"Framework"},u.a.createElement(J.a,{overlay:y},u.a.createElement(Lt,null,l&&l.title,u.a.createElement(tn,null)))),l&&l.docsLink&&u.a.createElement(Q.a,{style:{marginBottom:23},type:"info",message:u.a.createElement("span",null,"We do not support ",l.title," dashboard scaffolding generation yet. Please refer to ",u.a.createElement("a",{href:l.docsLink,target:"_blank",rel:"noopener noreferrer",onClick:function(){return ge("Unsupported Dashboard Framework Docs",{framework:c})}},l.title," docs")," to see on how to use it with Cube.js.")}),u.a.createElement(Wt.a.Item,{label:"Main Template"},u.a.createElement(J.a,{overlay:f,disabled:!!l.docsLink},u.a.createElement(Lt,null,d&&d.description,u.a.createElement(tn,null)))),u.a.createElement(Wt.a.Item,{label:"Charting Library"},u.a.createElement(J.a,{overlay:h,disabled:!!l.docsLink},u.a.createElement(Lt,null,s&&s.title,u.a.createElement(tn,null)))),u.a.createElement(Wt.a.Item,{label:"Web Socket Transport (Real-time)"},u.a.createElement(Jt.a,{checked:m,onChange:function(e){return r("enableWebSocketTransport",e)}}))))};function an(){var e=Object(Pt.a)(["\n  display: block;\n  font-size: 16px;\n  margin-bottom: 25px;\n  margin-left: 15px;\n"]);return an=function(){return e},e}function rn(){var e=Object(Pt.a)(["\n  border: 1px solid #ECECF0;\n\n  border-radius: 4px;\n  margin-bottom: 20px;\n  button {\n    display: none;\n    position: absolute;\n    margin-left: -64px;\n    top: 80px;\n    left: 50%;\n  }\n  padding: 16px;\n  svg path {\n    transition: stroke 0.25s ease;\n  }\n\n  && .ant-card-cover {\n    height: 168px;\n    border-radius: 4px;\n    background: ",";\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &:after {\n      content: '';\n      position: absolute;\n      width: 100%; height:100%;\n      top:0;\n      left:0;\n      background: rgba(81, 87, 125, 0.3);\n      opacity: 0;\n      transition: all 0.25s;\n    }\n\n  }\n\n  &&.ant-card-hoverable:hover {\n    box-shadow: 0px 15px 20px rgba(67, 67, 107, 0.1);\n    button { display: block; }\n    svg path {\n      stroke: #7A77FF;\n    }\n    &:hover .ant-card-cover:after {\n      opacity: ",";\n    }\n  }\n\n  && .ant-card-body {\n    min-height: 175px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  && .ant-card-meta {\n    text-align: center;\n  }\n\n  && .ant-card-meta-title {\n    white-space: unset;\n    color: #43436B;\n  }\n\n  && .ant-card-meta-description {\n    color: #A1A1B5;\n    font-size: 13px;\n  }\n"]);return rn=function(){return e},e}function sn(){var e=Object(Pt.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  max-width: 1024px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ","\n"]);return sn=function(){return e},e}var on=function(e){var t=e.children;return u.a.createElement("div",{style:{marginTop:50,margin:25}},t)},cn=Tt.a.div(sn(),(function(e){return'url("'.concat(e.src,'")')})),un=Object(Tt.a)(B.a)(rn(),(function(e){return e.createYourOwn?"#F8F8FB":"#EEEEF5"}),(function(e){return e.createYourOwn?"0":"1"})),ln=Object(Tt.a)(Vt.a.Text)(an()),pn=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(j.a)(this,Object(S.a)(t).call(this,e))).state={chartLibrary:He[0].value,framework:"react",templatePackageName:"react-antd-dynamic"},n}var n;return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:(n=Object(f.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dashboardSource=new M,e.next=3,this.dashboardSource.load(!0);case 3:this.setState({loadError:this.dashboardSource.loadError});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state.loadError;if(t&&-1===t.indexOf("Dashboard app not found"))return u.a.createElement(d.a,{to:"/dashboard"});var n=this.state,a=n.chartLibrary,r=n.framework,i=n.templatePackageName,s=n.createOwnModalVisible,o=n.enableWebSocketTransport,c=this.props.history,l=He.find((function(e){return e.value===a})),p=je.find((function(e){return e.id===r})),m=this.dashboardSource&&this.dashboardSource.templatePackages.find((function(e){return e.name===i})),h=[{name:"Dynamic Dashboard with React, AntD, and Recharts",description:"Use this template to create a dynamic dashboard application with React, AntD, and Chart.js. It comes with a dynamic query builder and Apollo GraphQL client. Use it when you want to allow users to edit dashboards.",coverUrl:"https://cube.dev/downloads/template-react-dashboard.png",templatePackages:["create-react-app","react-antd-dynamic","recharts-charts","antd-tables","credentials"]},{name:"Real-Time Dashboard with React, AntD, and Chart.js",description:"Use this template to create a static dashboard application with real-time WebSocket transport. Use it when users should not be allowed to edit dashboards and you want to provide them with real-time data refresh.",templatePackages:["create-react-app","react-antd-static","chartjs-charts","antd-tables","credentials","web-socket-transport"],coverUrl:"https://cube.dev/downloads/template-real-time-dashboard.png"},{name:"Material UI React Dashboard",coverUrl:"https://cube.dev/downloads/template-material-ui.jpg",description:"Use this template to create a Material UI–based static dashboard application and add charts to it by editing the source code or via Cube.js Playground. Use it when users should not be allowed to edit dashboards.",templatePackages:["create-react-app","react-material-static","recharts-charts","material-tables","credentials"]},{name:"Material UI D3 Dashboard",coverUrl:"https://cube.dev/downloads/template-material-d3.png",description:"Use this template to create a Material UI–based dashboard with D3.js. Add charts to it by editing the source code or via Cube.js Playground. Use it when users should not be allowed to edit dashboards.",templatePackages:["create-react-app","react-material-static","d3-charts","material-tables","credentials"]}].map((function(t){var n=t.name,a=t.description,r=t.templatePackages,i=t.coverUrl;return u.a.createElement(L.a,{xs:{span:24},md:{span:12},lg:{span:8},xl:{span:6},key:n},u.a.createElement(un,{hoverable:!0,bordered:!1,cover:u.a.createElement(cn,{src:i})},u.a.createElement(B.a.Meta,{title:n,description:a}),u.a.createElement(Lt,{type:"primary",onClick:Object(f.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dashboardSource.applyTemplatePackages(r);case 2:c.push("/dashboard");case 3:case"end":return t.stop()}}),t)})))},"Create App")))})).concat([u.a.createElement(L.a,{xs:{span:24},md:{span:8},lg:{span:6},key:"own"},u.a.createElement(un,{onClick:function(){return e.setState({createOwnModalVisible:!0})},hoverable:!0,createYourOwn:!0,bordered:!1,cover:u.a.createElement(Ht,null)},u.a.createElement(B.a.Meta,{title:"Create your Own",description:"Mix different templates together to create your own dashboard application"})),u.a.createElement(nn,{visible:s,onOk:Object(f.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({createOwnModalVisible:!1}),n=["create-react-app",i,"".concat(a,"-charts"),"".concat(i.match(/^react-(\w+)/)[1],"-tables"),"credentials"].concat(o?["web-socket-transport"]:[]),t.next=4,e.dashboardSource.applyTemplatePackages(n);case 4:c.push("/dashboard");case 5:case"end":return t.stop()}}),t)}))),onCancel:function(){return e.setState({createOwnModalVisible:!1})},onChange:function(t,n){return e.setState(Object(A.a)({},t,n))},chartLibraries:He,currentLibraryItem:l,frameworks:je,framework:r,frameworkItem:p,templatePackages:this.dashboardSource&&this.dashboardSource.templatePackages,templatePackage:m,enableWebSocketTransport:o}))]);return u.a.createElement(on,null,u.a.createElement(ln,null,"Build your app from one the popular templates below or ",u.a.createElement("a",{onClick:function(){return e.setState({createOwnModalVisible:!0})}},"create your own")),u.a.createElement(D.a,{type:"flex",align:"top",gutter:24},h))}}]),t}(c.Component),dn=Object(d.f)(pn),mn=Object(m.b)();mn.listen((function(e){var t;t=e,fe(Object(w.a)({event:"page"},t))})),p.a.render(u.a.createElement(d.c,{history:mn},u.a.createElement(Kt,null,u.a.createElement(d.b,{key:"index",exact:!0,path:"/",component:E}),u.a.createElement(d.b,{key:"build",path:"/build",component:yt}),u.a.createElement(d.b,{key:"schema",path:"/schema",component:kt}),u.a.createElement(d.b,{key:"dashboard",path:"/dashboard",component:Ot}),u.a.createElement(d.b,{key:"template-gallery",path:"/template-gallery",component:dn}))),document.getElementById("root"))},226:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(761));n(473);var i=a(n(763)),s=a(n(764)),o=a(n(765)),c=a(n(766)),u=a(n(767));n(768),n(779);var l=a(n(780));n(783),n(789),n(791),n(491),n(795);var p=a(n(797));n(801);var d=a(n(474));n(804),n(806),n(807),n(808),n(811);var m=a(n(812));n(814),n(816),n(818);var h=n(1929),y=a(n(496)),f=a(n(819));n(820),n(821),n(823),n(824),n(826);var b=a(n(827));n(828);var g=f.extendMoment(y),j={day:function(e){return Array.from(e.by("day")).map((function(e){return e.format("YYYY-MM-DDT00:00:00.000")}))},month:function(e){return Array.from(e.snapTo("month").by("month")).map((function(e){return e.format("YYYY-MM-01T00:00:00.000")}))},year:function(e){return Array.from(e.snapTo("year").by("year")).map((function(e){return e.format("YYYY-01-01T00:00:00.000")}))},hour:function(e){return Array.from(e.by("hour")).map((function(e){return e.format("YYYY-MM-DDTHH:00:00.000")}))},minute:function(e){return Array.from(e.by("minute")).map((function(e){return e.format("YYYY-MM-DDTHH:mm:00.000")}))},second:function(e){return Array.from(e.by("second")).map((function(e){return e.format("YYYY-MM-DDTHH:mm:ss.000")}))},week:function(e){return Array.from(e.snapTo("isoweek").by("week")).map((function(e){return e.startOf("isoweek").format("YYYY-MM-DDT00:00:00.000")}))}},S=/^\d\d\d\d-\d\d-\d\d$/,v=function(){function e(t){c(this,e),this.loadResponse=t}return u(e,[{key:"series",value:function(e){var t=this;return this.seriesNames(e).map((function(n){var a=n.title,r=n.key;return{title:a,key:r,series:t.chartPivot(e).map((function(e){var t=e.category,n=e.x;return{value:m(e,["category","x"])[r],category:t,x:n}}))}}))}},{key:"axisValues",value:function(e){var t=this.loadResponse.query;return function(n){var a=function(t){return e.filter((function(e){return"measures"!==e})).map((function(e){return null!=n[e]?n[e]:null})).concat(t?[t]:[])};return e.find((function(e){return"measures"===e}))&&(t.measures||[]).length?t.measures.map(a):[a()]}}},{key:"axisValuesString",value:function(e,t){return e.map((function(e){return null==e?"∅":""===e?"[Empty string]":e})).join(t||", ")}},{key:"normalizePivotConfig",value:function(t){var n=this.loadResponse.query,a=(n.timeDimensions||[]).filter((function(e){return!!e.granularity})),r=n.dimensions||[],i=function(t){return t.map((function(t){return a.find((function(e){return e.dimension===t}))&&!r.find((function(e){return e===t}))?e.timeDimensionMember(n.timeDimensions.find((function(e){return e.dimension===t}))):t}))};(t=t||(a.length?{x:a.map((function(t){return e.timeDimensionMember(t)})),y:r}:{x:r,y:[]})).x=i(t.x||[]),t.y=i(t.y||[]);var s=t.x.concat(t.y),o=a.map((function(t){return e.timeDimensionMember(t)})).concat(r);return t.x=t.x.concat(o.filter((function(e){return-1===s.indexOf(e)}))),t.x.concat(t.y).find((function(e){return"measures"===e}))||(t.y=t.y.concat(["measures"])),(n.measures||[]).length||(t.x=t.x.filter((function(e){return"measures"!==e})),t.y=t.y.filter((function(e){return"measures"!==e}))),null==t.fillMissingDates&&(t.fillMissingDates=!0),t}},{key:"timeSeries",value:function(t){if(!t.granularity)return null;var n=t.dateRange;if(!n){var a=h.pipe(h.map((function(n){return n[e.timeDimensionMember(t)]&&g(n[e.timeDimensionMember(t)])})),h.filter((function(e){return!!e})))(this.timeDimensionBackwardCompatibleData());n=a.length&&[h.reduce(h.minBy((function(e){return e.toDate()})),a[0],a),h.reduce(h.maxBy((function(e){return e.toDate()})),a[0],a)]||null}if(!n)return null;var r=t.dateRange?t.dateRange.find((function(e){return e.match(S)})):-1===["hour","minute","second"].indexOf(t.granularity),i=g(n[0]).format(r?"YYYY-MM-DDT00:00:00.000":g.HTML5_FMT.DATETIME_LOCAL_MS),s=g(n[1]).format(r?"YYYY-MM-DDT23:59:59.999":g.HTML5_FMT.DATETIME_LOCAL_MS),o=g.range(i,s);if(!j[t.granularity])throw new Error("Unsupported time granularity: ".concat(t.granularity));return j[t.granularity](o)}},{key:"pivot",value:function(t){var n=this;t=this.normalizePivotConfig(t);var a=h.groupBy((function(e){var t=e.xValues;return n.axisValuesString(t)})),r=function(e,t,n){return e[t]};if(t.fillMissingDates&&1===t.x.length&&h.equals(t.x,(this.loadResponse.query.timeDimensions||[]).filter((function(e){return!!e.granularity})).map((function(t){return e.timeDimensionMember(t)})))){var i=this.timeSeries(this.loadResponse.query.timeDimensions[0]);i&&(a=function(e){var t=h.groupBy((function(e){var t=e.xValues;return g(t[0]).format(g.HTML5_FMT.DATETIME_LOCAL_MS)}),e);return i.map((function(e){return d({},e,t[e]||[{xValues:[e],row:{}}])})).reduce((function(e,t){return Object.assign(e,t)}),{})},r=function(e,t,n){return e[t]||0})}var s=h.pipe(h.map((function(e){return n.axisValues(t.x)(e).map((function(t){return{xValues:t,row:e}}))})),h.unnest,a,h.toPairs)(this.timeDimensionBackwardCompatibleData()),o=h.pipe(h.map((function(e){var a=p(e,2),r=(a[0],a[1]);return h.unnest(r.filter((function(e){var t=e.row;return Object.keys(t).length>0})).map((function(e){var a=e.row;return n.axisValues(t.y)(a)})))})),h.unnest,h.uniq)(s);return s.map((function(a){var i=p(a,2),s=(i[0],i[1]),c=s[0].xValues,u=h.pipe(h.map((function(e){var a=e.row;return n.axisValues(t.y)(a).map((function(e){return{yValues:e,row:a}}))})),h.unnest,h.groupBy((function(e){var t=e.yValues;return n.axisValuesString(t)})))(s);return{xValues:c,yValuesArray:h.unnest(o.map((function(a){var i=t.x.find((function(e){return"measures"===e}))?e.measureFromAxis(c):e.measureFromAxis(a);return(u[n.axisValuesString(a)]||[{row:{}}]).map((function(e){var t=e.row;return[a,r(t,i,c)]}))})))}}))}},{key:"pivotedRows",value:function(e){return this.chartPivot(e)}},{key:"chartPivot",value:function(e){var t=this;return this.pivot(e).map((function(e){var n=e.xValues,a=e.yValuesArray;return s({category:t.axisValuesString(n,", "),x:t.axisValuesString(n,", ")},a.map((function(e){var n=p(e,2),a=n[0],r=n[1];return d({},t.axisValuesString(a,", "),r&&Number.parseFloat(r))})).reduce((function(e,t){return Object.assign(e,t)}),{}))}))}},{key:"tablePivot",value:function(e){var t=this.normalizePivotConfig(e||{}),n=function(e,t){return function(n,a){return d({},"measures"===n?e[a]:n,"measures"===n?t:e[a])}};return this.pivot(t).map((function(e){var a=e.xValues;return e.yValuesArray.map((function(e){var r=p(e,2),i=r[0],s=r[1];return t.x.map(n(a,s)).concat(t.y.map(n(i,s))).reduce((function(e,t){return Object.assign(e,t)}),{})})).reduce((function(e,t){return Object.assign(e,t)}),{})}))}},{key:"tableColumns",value:function(e){var t=this,n=this.normalizePivotConfig(e),a=function(e){return"measures"===e?(t.query().measures||[]).map((function(e){return{key:e,title:t.loadResponse.annotation.measures[e].title,shortTitle:t.loadResponse.annotation.measures[e].shortTitle}})):[{key:e,title:(t.loadResponse.annotation.dimensions[e]||t.loadResponse.annotation.timeDimensions[e]).title,shortTitle:(t.loadResponse.annotation.dimensions[e]||t.loadResponse.annotation.timeDimensions[e]).shortTitle}]};return n.x.map(a).concat(n.y.map(a)).reduce((function(e,t){return e.concat(t)}))}},{key:"totalRow",value:function(){return this.chartPivot()[0]}},{key:"categories",value:function(e){return this.chartPivot(e)}},{key:"seriesNames",value:function(t){var n=this;return t=this.normalizePivotConfig(t),h.pipe(h.map(this.axisValues(t.y)),h.unnest,h.uniq)(this.timeDimensionBackwardCompatibleData()).map((function(a){return{title:n.axisValuesString(t.y.find((function(e){return"measures"===e}))?h.dropLast(1,a).concat(n.loadResponse.annotation.measures[e.measureFromAxis(a)].title):a,", "),key:n.axisValuesString(a)}}))}},{key:"query",value:function(){return this.loadResponse.query}},{key:"rawData",value:function(){return this.loadResponse.data}},{key:"timeDimensionBackwardCompatibleData",value:function(){if(!this.backwardCompatibleData){var t=(this.loadResponse.query.timeDimensions||[]).filter((function(e){return!!e.granularity}));this.backwardCompatibleData=this.loadResponse.data.map((function(n){return s({},n,{},Object.keys(n).filter((function(a){return t.find((function(e){return e.dimension===a}))&&!n[e.timeDimensionMember(t.find((function(e){return e.dimension===a})))]})).map((function(a){return d({},e.timeDimensionMember(t.find((function(e){return e.dimension===a}))),n[a])})).reduce((function(e,t){return s({},e,{},t)}),{}))}))}return this.backwardCompatibleData}}],[{key:"timeDimensionMember",value:function(e){return"".concat(e.dimension,".").concat(e.granularity)}},{key:"measureFromAxis",value:function(e){return e[e.length-1]}}]),e}(),x=function(){function e(t){c(this,e),this.sqlQuery=t}return u(e,[{key:"rawQuery",value:function(){return this.sqlQuery.sql}},{key:"sql",value:function(){return this.rawQuery().sql[0]}}]),e}(),k=function(e){return h.fromPairs(e.map((function(e){return[e.name,e]})))},E={string:[{name:"contains",title:"contains"},{name:"notContains",title:"does not contain"},{name:"equals",title:"equals"},{name:"notEquals",title:"does not equal"},{name:"set",title:"is set"},{name:"notSet",title:"is not set"}],number:[{name:"equals",title:"equals"},{name:"notEquals",title:"does not equal"},{name:"set",title:"is set"},{name:"notSet",title:"is not set"},{name:"gt",title:">"},{name:"gte",title:">="},{name:"lt",title:"<"},{name:"lte",title:"<="}]},_=function(){function e(t){c(this,e),this.meta=t;var n=this.meta.cubes;this.cubes=n,this.cubesMap=h.fromPairs(n.map((function(e){return[e.name,{measures:k(e.measures),dimensions:k(e.dimensions),segments:k(e.segments)}]})))}return u(e,[{key:"membersForQuery",value:function(e,t){return h.unnest(this.cubes.map((function(e){return e[t]})))}},{key:"resolveMember",value:function(e,t){var n=this,a=e.split("."),r=p(a,1)[0];if(!this.cubesMap[r])return{title:e,error:"Cube not found ".concat(r," for path '").concat(e,"'")};var i=(Array.isArray(t)?t:[t]).map((function(t){return n.cubesMap[r][t]&&n.cubesMap[r][t][e]})).find((function(e){return e}));return i||{title:e,error:"Path not found '".concat(e,"'")}}},{key:"defaultTimeDimensionNameFor",value:function(e){var t=this,n=e.split("."),a=p(n,1)[0];return this.cubesMap[a]?Object.keys(this.cubesMap[a].dimensions||{}).find((function(e){return"time"===t.cubesMap[a].dimensions[e].type})):null}},{key:"filterOperatorsForMember",value:function(e,t){var n=this.resolveMember(e,t);return E[n.type]||E.string}}]),e}(),C=function(){function e(t){c(this,e),this.progressResponse=t}return u(e,[{key:"stage",value:function(){return this.progressResponse.stage}},{key:"timeElapsed",value:function(){return this.progressResponse.timeElapsed}}]),e}(),w=function(){function e(t){var n=t.authorization,a=t.apiUrl,r=t.headers,i=void 0===r?{}:r;c(this,e),this.authorization=n,this.apiUrl=a,this.headers=i}return u(e,[{key:"request",value:function(e,t){var n=this,a=t.baseRequestId,c=m(t,["baseRequestId"]),u=new URLSearchParams(c&&Object.keys(c).map((function(e){return d({},e,"object"===o(c[e])?JSON.stringify(c[e]):c[e])})).reduce((function(e,t){return s({},e,{},t)}),{})),l=1;return{subscribe:function(t){var o=this;return i(r.mark((function i(){var c;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b("".concat(n.apiUrl,"/").concat(e).concat(u.toString().length?"?".concat(u):""),{headers:s({Authorization:n.authorization,"Content-Type":"application/json","x-request-id":a&&"".concat(a,"-span-").concat(l++)},n.headers)});case 2:return c=r.sent,r.abrupt("return",t(c,(function(){return o.subscribe(t)})));case 4:case"end":return r.stop()}}),i)})))()}}}}]),e}(),O="https://statsbot.co/cubejs-api/v1",P=0,T=function(){function e(t,n){c(this,e),"object"===o(t)&&(n=t,t=void 0),n=n||{},this.apiToken=t,this.apiUrl=n.apiUrl||O,this.headers=n.headers||{},this.transport=n.transport||new w({authorization:"function"==typeof t?void 0:t,apiUrl:this.apiUrl,headers:this.headers}),this.pollInterval=n.pollInterval||5}var t;return u(e,[{key:"request",value:function(e,t){return this.transport.request(e,s({baseRequestId:l()},t))}},{key:"loadMethod",value:function(e,t,n,a){var s=this,o=++P;"function"!=typeof n||a||(a=n,n=void 0);var c=(n=n||{}).mutexKey||"default";n.mutexObj&&(n.mutexObj[c]=o);var u,l=this.updateTransportAuthorization().then((function(){return e()})),p=!1,d=function(){var e=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:if(t=e.sent,!n.mutexObj||n.mutexObj[c]===o){e.next=9;break}if(p=!0,!t.unsubscribe){e.next=8;break}return e.next=8,t.unsubscribe();case 8:throw"Mutex has been changed";case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=i(r.mark((function e(o,c){var u,m,h,y,f,b;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:return u=e.sent,m=function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.subscribe||p){e.next=8;break}if(!u.unsubscribe){e.next=5;break}return e.abrupt("return",c());case 5:return e.next=7,new Promise((function(e){return setTimeout((function(){return e()}),1e3*s.pollInterval)}));case 7:return e.abrupt("return",c());case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=5;break}if(!t){e.next=4;break}return e.next=4,new Promise((function(e){return setTimeout((function(){return e()}),1e3*s.pollInterval)}));case 4:return e.abrupt("return",c());case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=7,s.updateTransportAuthorization();case 7:if(502!==o.status){e.next=11;break}return e.next=10,d();case 10:return e.abrupt("return",h(!0));case 11:return e.next=13,o.json();case 13:if("Continue wait"!==(y=e.sent).error){e.next=19;break}return e.next=17,d();case 17:return n.progressCallback&&n.progressCallback(new C(y)),e.abrupt("return",h());case 19:if(200===o.status){e.next=32;break}return e.next=22,d();case 22:if(n.subscribe||!u.unsubscribe){e.next=25;break}return e.next=25,u.unsubscribe();case 25:if(f=new Error(y.error),!a){e.next=30;break}a(f),e.next=31;break;case 30:throw f;case 31:return e.abrupt("return",m());case 32:return e.next=34,d();case 34:if(n.subscribe||!u.unsubscribe){e.next=37;break}return e.next=37,u.unsubscribe();case 37:if(b=t(y),!a){e.next=42;break}a(null,b),e.next=43;break;case 42:return e.abrupt("return",b);case 43:return e.abrupt("return",m());case 44:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=l.then((function(e){return function(e){return new Promise((function(t,n){e.then((function(e){return t(e)}),(function(e){return"Mutex has been changed"!==e&&n(e)}))}))}(e.subscribe(m))}));return a?{unsubscribe:(u=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:if(t=e.sent,p=!0,!t.unsubscribe){e.next=6;break}return e.abrupt("return",t.unsubscribe());case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})}:h}},{key:"updateTransportAuthorization",value:(t=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.apiToken){e.next=5;break}return e.next=3,this.apiToken();case 3:t=e.sent,this.transport.authorization!==t&&(this.transport.authorization=t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"load",value:function(e,t,n){var a=this;return this.loadMethod((function(){return a.request("load",{query:e})}),(function(e){return new v(e)}),t,n)}},{key:"sql",value:function(e,t,n){var a=this;return this.loadMethod((function(){return a.request("sql",{query:e})}),(function(e){return new x(e)}),t,n)}},{key:"meta",value:function(e,t){var n=this;return this.loadMethod((function(){return n.request("meta")}),(function(e){return new _(e)}),e,t)}},{key:"subscribe",value:function(e,t,n){var a=this;return this.loadMethod((function(){return a.request("subscribe",{query:e})}),(function(e){return new v(e)}),s({},t,{subscribe:!0}),n)}}]),e}();t.default=function(e,t){return new T(e,t)},t.HttpTransport=w},739:function(e,t,n){e.exports=n(1930)}});